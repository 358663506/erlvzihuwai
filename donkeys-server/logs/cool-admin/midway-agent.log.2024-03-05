2024-03-05 23:49:13,733 INFO 28680 [egg:logger] init all loggers with options: {"dir":"E:\\newELv\\erlvzihuwai\\donkeys-server\\logs\\cool-admin","encoding":"utf8","env":"local","level":"INFO","consoleLevel":"INFO","disableConsoleAfterReady":false,"outputJSON":false,"buffer":true,"appLogName":"midway-web.log","coreLogName":"midway-core.log","agentLogName":"midway-agent.log","errorLogName":"common-error.log","coreLogger":{"consoleLevel":"INFO"},"allowDebugAtProd":false,"enablePerformanceTimer":false,"type":"agent"}
2024-03-05 23:49:13,736 INFO 28680 [egg:core] dump config after load, 144ms
2024-03-05 23:49:14,487 ERROR 28680 ReferenceError: window is not defined
    at E:\newELv\erlvzihuwai\donkeys-server\src\config\config.local.ts:59:16
    at Object.<anonymous> (E:\newELv\erlvzihuwai\donkeys-server\src\config\config.local.ts:60:3)
    at Module._compile (node:internal/modules/cjs/loader:1198:14)
    at Module.m._compile (E:\newELv\erlvzihuwai\donkeys-server\node_modules\ts-node\src\index.ts:1056:23)
    at Module._extensions..js (node:internal/modules/cjs/loader:1252:10)
    at Object.require.extensions.<computed> [as .ts] (E:\newELv\erlvzihuwai\donkeys-server\node_modules\ts-node\src\index.ts:1059:12)
    at Module.load (node:internal/modules/cjs/loader:1076:32)
    at Function.Module._load (node:internal/modules/cjs/loader:911:12)
    at Module.require (node:internal/modules/cjs/loader:1100:19)
    at require (node:internal/modules/cjs/helpers:119:18)
2024-03-05 23:49:14,494 INFO 28680 [egg:core] dump config after ready, 4ms
2024-03-05 23:56:16,650 ERROR 28680 QueryFailedError: write ECONNRESET
    at QueryFailedError.TypeORMError [as constructor] (E:\newELv\erlvzihuwai\donkeys-server\src\error\TypeORMError.ts:7:9)
    at new QueryFailedError (E:\newELv\erlvzihuwai\donkeys-server\src\error\QueryFailedError.ts:9:9)
    at Query.onResult (E:\newELv\erlvzihuwai\donkeys-server\src\driver\mysql\MysqlQueryRunner.ts:183:37)
    at PoolConnection._notifyError (E:\newELv\erlvzihuwai\donkeys-server\node_modules\mysql2\lib\connection.js:212:21)
    at PoolConnection._handleFatalError (E:\newELv\erlvzihuwai\donkeys-server\node_modules\mysql2\lib\connection.js:167:10)
    at PoolConnection._handleNetworkError (E:\newELv\erlvzihuwai\donkeys-server\node_modules\mysql2\lib\connection.js:180:10)
    at E:\newELv\erlvzihuwai\donkeys-server\node_modules\mysql2\lib\connection.js:247:14
    at onwriteError (node:internal/streams/writable:417:3)
    at processTicksAndRejections (node:internal/process/task_queues:85:21) {
  query: 'UPDATE `core_plugin` SET `status` = ?, `updateTime` = CURRENT_TIMESTAMP WHERE `name` = ?',
  parameters: [ 3, 'Redis缓存' ],
  driverError: Error: write ECONNRESET
      at afterWriteDispatched (node:internal/stream_base_commons:160:15)
      at writeGeneric (node:internal/stream_base_commons:151:3)
      at Socket._writeGeneric (node:net:905:11)
      at Socket._write (node:net:917:8)
      at writeOrBuffer (node:internal/streams/writable:391:12)
      at _write (node:internal/streams/writable:332:10)
      at Socket.Writable.write (node:internal/streams/writable:336:10)
      at PoolConnection.write (E:\newELv\erlvzihuwai\donkeys-server\node_modules\mysql2\lib\connection.js:245:32)
      at PoolConnection.writePacket (E:\newELv\erlvzihuwai\donkeys-server\node_modules\mysql2\lib\connection.js:294:12)
      at Query.start (E:\newELv\erlvzihuwai\donkeys-server\node_modules\mysql2\lib\commands\query.js:60:16) {
    errno: -4077,
    code: 'ECONNRESET',
    syscall: 'write',
    fatal: true
  },
  errno: -4077,
  code: 'ECONNRESET',
  syscall: 'write',
  fatal: true
}
2024-03-05 23:56:16,663 ERROR 28680 Error: read ECONNRESET
    at TCP.onStreamRead (node:internal/stream_base_commons:217:20) {
  errno: -4077,
  code: 'ECONNRESET',
  syscall: 'read',
  name: 'unhandledExceptionError'
}
2024-03-05 23:56:16,686 ERROR 28680 QueryFailedError: write ECONNRESET
    at QueryFailedError.TypeORMError [as constructor] (E:\newELv\erlvzihuwai\donkeys-server\src\error\TypeORMError.ts:7:9)
    at new QueryFailedError (E:\newELv\erlvzihuwai\donkeys-server\src\error\QueryFailedError.ts:9:9)
    at Query.onResult (E:\newELv\erlvzihuwai\donkeys-server\src\driver\mysql\MysqlQueryRunner.ts:183:37)
    at PoolConnection._notifyError (E:\newELv\erlvzihuwai\donkeys-server\node_modules\mysql2\lib\connection.js:212:21)
    at PoolConnection._handleFatalError (E:\newELv\erlvzihuwai\donkeys-server\node_modules\mysql2\lib\connection.js:167:10)
    at PoolConnection._handleNetworkError (E:\newELv\erlvzihuwai\donkeys-server\node_modules\mysql2\lib\connection.js:180:10)
    at E:\newELv\erlvzihuwai\donkeys-server\node_modules\mysql2\lib\connection.js:247:14
    at onwriteError (node:internal/streams/writable:417:3)
    at processTicksAndRejections (node:internal/process/task_queues:85:21) {
  query: 'UPDATE `core_plugin` SET `status` = ?, `updateTime` = CURRENT_TIMESTAMP WHERE `name` = ?',
  parameters: [ 3, 'Redis缓存' ],
  driverError: Error: write ECONNRESET
      at afterWriteDispatched (node:internal/stream_base_commons:160:15)
      at writeGeneric (node:internal/stream_base_commons:151:3)
      at Socket._writeGeneric (node:net:905:11)
      at Socket._write (node:net:917:8)
      at writeOrBuffer (node:internal/streams/writable:391:12)
      at _write (node:internal/streams/writable:332:10)
      at Socket.Writable.write (node:internal/streams/writable:336:10)
      at PoolConnection.write (E:\newELv\erlvzihuwai\donkeys-server\node_modules\mysql2\lib\connection.js:245:32)
      at PoolConnection.writePacket (E:\newELv\erlvzihuwai\donkeys-server\node_modules\mysql2\lib\connection.js:294:12)
      at Query.start (E:\newELv\erlvzihuwai\donkeys-server\node_modules\mysql2\lib\commands\query.js:60:16) {
    errno: -4077,
    code: 'ECONNRESET',
    syscall: 'write',
    fatal: true
  },
  errno: -4077,
  code: 'ECONNRESET',
  syscall: 'write',
  fatal: true
}
2024-03-05 23:56:16,689 ERROR 28680 Error: read ECONNRESET
    at TCP.onStreamRead (node:internal/stream_base_commons:217:20) {
  errno: -4077,
  code: 'ECONNRESET',
  syscall: 'read',
  name: 'unhandledExceptionError'
}
