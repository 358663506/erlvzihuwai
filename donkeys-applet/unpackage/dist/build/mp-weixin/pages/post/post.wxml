<view><scroll-view class="{{['DrawerPage',modalName=='viewModal'?'show':'']}}" scroll-y="{{true}}" id="scroll"><cu-custom vue-id="0d4588c0-1" bgColor="bg-gradual-blue" isBack="{{true}}" bind:__l="__l" vue-slots="{{['backText','content']}}"><view slot="backText">返回</view><view slot="content">编辑活动</view></cu-custom><view class="editor_toolbox"><view class="iconfont icon-undo _i" data-method="undo" data-event-opts="{{[['tap',[['edit',['$event']]]]]}}" bindtap="__e"></view><view class="iconfont icon-redo _i" data-method="redo" data-event-opts="{{[['tap',[['edit',['$event']]]]]}}" bindtap="__e"></view><view class="iconfont icon-img _i" data-method="insertImg" data-event-opts="{{[['tap',[['edit',['$event']]]]]}}" bindtap="__e"></view><view class="iconfont icon-video _i" data-method="insertVideo" data-event-opts="{{[['tap',[['edit',['$event']]]]]}}" bindtap="__e"></view><view class="iconfont icon-link _i" data-method="insertLink" data-event-opts="{{[['tap',[['edit',['$event']]]]]}}" bindtap="__e"></view><view class="iconfont icon-text _i" data-method="insertText" data-event-opts="{{[['tap',[['edit',['$event']]]]]}}" bindtap="__e"></view><view data-event-opts="{{[['tap',[['clear',['$event']]]]]}}" class="iconfont icon-clear _i" bindtap="__e"></view><view class="iconfont icon-save _i" data-target="viewModal" data-event-opts="{{[['tap',[['showModal',['$event']]]]]}}" bindtap="__e"></view></view><view style="min-height:100%;"><mp-html class="vue-ref" vue-id="0d4588c0-2" id="article" container-style="padding:20rpx 32rpx 120rpx 32rpx" content="{{postInfo.content}}" domain lazy-load="{{true}}" scroll-table="{{true}}" selectable="{{true}}" use-anchor="{{true}}" tag-style="{{tagStyle}}" editable="{{editable}}" data-ref="article" data-event-opts="{{[['^remove',[['remove']]],['^load',[['load']]],['^ready',[['ready']]],['^imgtap',[['imgtap']]],['^linktap',[['linktap']]]]}}" bind:remove="__e" bind:load="__e" bind:ready="__e" bind:imgtap="__e" bind:linktap="__e" bind:__l="__l"></mp-html></view></scroll-view><view data-event-opts="{{[['tap',[['hideModal',['$event']]]]]}}" class="{{['DrawerClose',modalName=='viewModal'?'show':'']}}" bindtap="__e"><text class="cuIcon-pullright"></text></view><scroll-view class="{{['DrawerWindow',modalName=='viewModal'?'show':'']}}" scroll-y="{{true}}"><view class="cu-list menu card-menu margin-top-xl margin-bottom-xl shadow-lg"><form><view class="cu-form-group margin-top"><view class="title">文章标题</view><input placeholder="文章标题" name="input" data-event-opts="{{[['input',[['__set_model',['$0','title','$event',['trim']],['postInfo']]]],['blur',[['$forceUpdate']]]]}}" value="{{postInfo.title}}" bindinput="__e" bindblur="__e"/></view><view class="cu-bar bg-white margin-top"><view class="action">封面</view></view><view class="cu-form-group"><view class="grid col-4 grid-square flex-sub"><block wx:if="{{postInfo.articleCover}}"><view class="bg-img" data-url="{{postInfo.articleCover}}" data-event-opts="{{[['tap',[['viewImage',['$0'],['postInfo.articleCover']]]]]}}" bindtap="__e"><block wx:if="{{postInfo.articleCover}}"><image src="{{postInfo.articleCover+'?imageView2/2/w/300'}}" mode="aspectFill"></image></block><view class="cu-tag bg-red" data-index="{{index}}" data-event-opts="{{[['tap',[['delImg',['$event']]]]]}}" catchtap="__e"><text class="cuIcon-close"></text></view></view></block><block wx:if="{{!postInfo.articleCover}}"><view data-event-opts="{{[['tap',[['chooseImage',['$event']]]]]}}" class="solids" bindtap="__e"><text class="cuIcon-cameraadd"></text></view></block></view></view><view class="cu-form-group margin-top"><view class="title">活动时间</view><picker mode="date" value="{{postInfo.departureTime}}" data-event-opts="{{[['change',[['dateChange',['$event']]]]]}}" bindchange="__e"><view class="picker">{{''+$root.f0+''}}</view></picker></view><view class="cu-form-group"><view class="title">出行地点</view><input placeholder="请输入出行地点" name="input" data-event-opts="{{[['input',[['__set_model',['$0','destinationPos','$event',[]],['postInfo']]]]]}}" value="{{postInfo.destinationPos}}" bindinput="__e"/><text class="cuIcon-locationfill text-orange"></text></view><view class="cu-form-group"><view class="title">风景级别</view><view><block wx:for="{{[1,2,3,4,5]}}" wx:for-item="uicon" wx:for-index="__i0__" wx:key="*this"><u-icon class="margin-left-sm" vue-id="{{'0d4588c0-3-'+__i0__}}" name="{{postInfo.lanscapeLevel<uicon?'star':'star-fill'}}" size="{{uIconSize}}" color="{{postInfo.lanscapeLevel<uicon?'#aaa':'rgba(0, 67, 255, 0.5)'}}" data-event-opts="{{[['^click',[['e0']]]]}}" data-event-params="{{({uicon})}}" bind:click="__e" bind:__l="__l"></u-icon></block></view></view><view class="cu-form-group"><view class="title">活动难度</view><view><block wx:for="{{[1,2,3,4,5]}}" wx:for-item="uicon" wx:for-index="__i1__" wx:key="*this"><u-icon class="margin-left-sm" vue-id="{{'0d4588c0-4-'+__i1__}}" name="{{postInfo.difficulty<uicon?'star':'star-fill'}}" size="{{uIconSize}}" color="{{postInfo.difficulty<uicon?'#aaa':'rgba(0, 67, 255, 0.5)'}}" data-event-opts="{{[['^click',[['e1']]]]}}" data-event-params="{{({uicon})}}" bind:click="__e" bind:__l="__l"></u-icon></block></view></view><view class="bg-white cu-bar u-border-top"><view class="action">活动状态</view></view><view class="bg-white padding-lr-sm flex justify-between padding-bottom-sm"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="*this"><view data-event-opts="{{[['tap',[['e2',['$event']]]]]}}" data-event-params="{{({index})}}" class="{{['cu-tag','light','sm','round',postInfo.status===index+1?'bg-blue':'bg-grey']}}" bindtap="__e">{{item}}</view></block></view><view class="cu-form-group u-border-top"><view class="title">置顶</view><switch class="{{[postInfo.top?'checked':'']}}" checked="{{postInfo.top?true:false}}" data-event-opts="{{[['change',[['switchTop',['$event']]]]]}}" bindchange="__e"></switch></view></form><u-button vue-id="0d4588c0-5" loading="{{saveLoading}}" shape="circle" size="small" custom-style="{{customStyle}}" data-event-opts="{{[['^click',[['save']]]]}}" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}">保存</u-button></view></scroll-view><block wx:if="{{modal}}"><block><view class="mask"></view><view class="modal"><view class="modal_title">{{modal.title}}</view><input class="modal_input" maxlength="-1" auto-focus="{{true}}" data-event-opts="{{[['input',[['modalInput',['$event']]]]]}}" value="{{modal.value}}" bindinput="__e"/><view class="modal_foot"><view data-event-opts="{{[['tap',[['modalCancel',['$event']]]]]}}" class="modal_button" bindtap="__e">取消</view><view data-event-opts="{{[['tap',[['modalConfirm',['$event']]]]]}}" class="modal_button" style="color:#576b95;border-left:1px solid rgba(0,0,0,.1);" bindtap="__e">确定</view></view></view></block></block><view data-event-opts="{{[['touchmove',[['',['$event']],['',['$event']]]]]}}" hidden="{{!(showLoading)}}" class="bg-masker-loading" catchtouchmove="__e"><view data-event-opts="{{[['touchmove',[['',['$event']],['',['$event']]]]]}}" class="bg-masker-loading-fixed loading flex align-center justify-center" catchtouchmove="__e"><u-loading vue-id="0d4588c0-6" color="#fff" mode="flower" show="{{true}}" size="{{loadingSize}}" bind:__l="__l"></u-loading></view></view></view>