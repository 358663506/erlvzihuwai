{"version":3,"sources":["uni-app:///main.js","webpack:///E:/newELv/erlvzihuwai/donkeys-applet/pages/agreement/detai.vue?e07d","webpack:///E:/newELv/erlvzihuwai/donkeys-applet/pages/agreement/detai.vue?d05b","webpack:///E:/newELv/erlvzihuwai/donkeys-applet/pages/agreement/detai.vue?724d","webpack:///E:/newELv/erlvzihuwai/donkeys-applet/pages/agreement/detai.vue?6918","uni-app:///pages/agreement/detai.vue","webpack:///E:/newELv/erlvzihuwai/donkeys-applet/pages/agreement/detai.vue?cd9c","webpack:///E:/newELv/erlvzihuwai/donkeys-applet/pages/agreement/detai.vue?5ae2"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","uni","success","canvasw","canvash","components","myPopup","computed","token","userInfo","loadingSize","showLoading","watch","data","isLoad","agreementId","signImage1","signImage2","signImageKey","isEnd","agreementInfo","title","content","autographInfo","tagStyle","table","th","td","li","onLoad","_that","icon","onShareAppMessage","path","methods","getAgreementInfo","id","getAutographInfo","addAutograph","request","Promise","resolve","reject","finally","hideShow","console","showSign","overSign","canvasId","imageUrl","duration","mask","start","x","y","touchs","move","end","cancel","tap","error","draw","clearClick"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACa;;;AAGjE;AACoM;AACpM,gBAAgB,uMAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,wOAEN;AACP,KAAK;AACL;AACA,aAAa,0LAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtCA;AAAA;AAAA;AAAA;AAAuwB,CAAgB,ivBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;ACgH3xB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQA;AACA;AACA;AACA;AACA;AACA;AACAC;EACAC;IACAC;IACAC;EACA;AACA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eAEA;EACAC;IACAC;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;EACA;EACAC;IACAJ;MACA;QACA;QACA;MACA;IACA;EACA;EACAK;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAAA;MACA;MACAC;QACAC;QACAC;MACA;MACA;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;MACA;IACA;EACA;EACA;AACA;AACA;EACAC;IACAC;IACA;IACAR;IACA;MACArB;QACAoB;QACAU;MACA;MACA;IACA;IACA;IACA;IACA;EACA;EACAC;IACA;MACAX;MACAY;IACA;EACA;EACAC;IACAC;MAAA;MACA;MACA;QACAC;MACA;QACA;MACA;QACA;QACA;MACA;IACA;IACAC;MAAA;MACA;QACAtB;MACA;QACA;UACAO;QACA;QACA;QACA;QACA;MACA;IACA;IACAgB;MAAA;MACA;MACA;QACA;QACA;QACA;UACAC;YACAH;YACArB;YACAO;UACA;QACA;UACAiB;YACAjB;YACAP;UACA;QACA;QACAyB;UACAC;QACA;UACAC;QACA,GACAC;UACA;QACA;MACA;IACA;IACAC;MACAC;MAEAf;IAOA;IACAgB;MAAA;MACA;MAEAhB;IAOA;IACAiB;MACA;MACA;QACA9C;UACA+C;UACA9C;YAAA;cAAA;cAAA;gBAAA;kBAAA;oBAAA;sBACAc;sBACAC;sBAAA;sBAAA,OACA;oBAAA;sBAAAgC;sBACAnB,qCACAd,wBACAC;sBAAA,MACAa;wBAAA;wBAAA;sBAAA;sBAAA;sBAAA,OACAA;oBAAA;sBAAA;sBAAA;oBAAA;sBAAA;sBAAA,OAEAA;oBAAA;sBAEAA;sBACAA;sBACAA;sBACAA;oBAAA;oBAAA;sBAAA;kBAAA;gBAAA;cAAA;YAAA,CACA;YAAA;cAAA;YAAA;YAAA;UAAA;QACA;MACA;QACA7B;UACAoB;UACAU;UACAmB;UACAC;QACA;MACA;IACA;IAEA;IACAC;MACA;MACA;MACA;MACA;MACA;QACAC;QACAC;MACA;MACA;MACAC;IACA;IACA;IACAC;MACA;QACAH;QACAC;MACA;MACA;MACAC;MACA;QACA;MACA;IACA;IAEA;IACAE;MACA;MACA;MACAZ;MACA;MACAU;MACA;MACA;MACA;IACA;;IAEA;IACAG;IAEA;IACAC;IACA;IACAC;IAEA;IACAC;MACA;MACA;MACAN;MACA;MACAjC;MACA;MACAA;MACA;MACAA;MACA;MACAA;MACAA;MACAA;MACAA;MACAA;IACA;IACA;IACAwC;MACA;MACA;MACA;MACAxC;MACAA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACjYA;AAAA;AAAA;AAAA;AAA4lC,CAAgB,0hCAAG,EAAC,C;;;;;;;;;;;ACAhnC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/agreement/detai.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/agreement/detai.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detai.vue?vue&type=template&id=de654666&\"\nvar renderjs\nimport script from \"./detai.vue?vue&type=script&lang=js&\"\nexport * from \"./detai.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detai.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/agreement/detai.vue\"\nexport default component.exports","export * from \"-!../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detai.vue?vue&type=template&id=de654666&\"","var components\ntry {\n  components = {\n    mpHtml: function () {\n      return import(\n        /* webpackChunkName: \"components/mp-html/mp-html\" */ \"@/components/mp-html/mp-html.vue\"\n      )\n    },\n    uLoading: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-loading/u-loading\" */ \"@/uview-ui/components/u-loading/u-loading.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detai.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detai.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"full\">\n\t\t<view class=\"contents not-show\" :class=\"{show: isLoad}\">\n\t\t\t<cu-custom bgColor=\"bg-gradual-blue\" :isBack=\"true\">\n\t\t\t\t<block slot=\"backText\">返回</block>\n\t\t\t\t<block slot=\"content\">协议</block>\n\t\t\t</cu-custom>\n\t\t\t<view style=\"width: 100%; min-height: 600rpx; margin: 0 auto; background-color: #fff;\">\n\t\t\t\t<view style=\"\n\t\t\t\twidth: 100%;\n\t\t\t\ttext-align: center;\n\t\t\t\tfont-size: 30rpx;\n\t\t\t\tfont-weight: bold;\n\t\t\t\theight: 100rpx;\n\t\t\t\tline-height: 100rpx;\n        \">{{ agreementInfo.title }}</view>\n\t\t\t\t<mp-html container-style=\"padding:20rpx 32rpx\" :content=\"agreementInfo.content\" domain=\"\" lazy-load\n\t\t\t\t\tscroll-table selectable use-anchor :tag-style=\"tagStyle\" />\n\t\t\t\t<view v-if=\"signImage1\" style=\"text-align: right; display:flex; justify-content: flex-end; padding-right: 20rpx\">\n\t\t\t\t\t<image :src=\"signImage1\" style=\"width: 200rpx; height: 100rpx\"></image>\n\t\t\t\t</view>\n\t\t\t\t<view v-if=\"signImage2\" style=\"text-align: right; display:flex; justify-content: flex-end; padding-right: 20rpx\">\n\t\t\t\t\t<image :src=\"signImage2\" style=\"width: 200rpx; height: 100rpx\"></image>\n\t\t\t\t</view>\n\t\t\t</view>\n\n\t\t\t<myPopup ref=\"pop\">\n\t\t\t\t<view style=\"\n          background-color: #ffffff;\n          border-top-left-radius: 20rpx;\n          border-top-right-radius: 20rpx;\n        \">\n\t\t\t\t\t<view style=\"\n            margin-left: 92%;\n            margin-bottom: -10rpx;\n            width: 40rpx;\n            height: 40rpx;\n            font-size: 26rpx;\n            line-height: 40rpx;\n            background-color: #000000;\n            opacity: 0.5;\n            border-radius: 20rpx;\n            text-align: center;\n            position: fixed;\n            bottom: 34.5%;\n            z-index: 3000;\n            left: 0rpx;\n            color: #ffffff;\n          \" @click=\"hideShow\">\n\t\t\t\t\t\tX\n\t\t\t\t\t</view>\n\t\t\t\t\t<view style=\"\n            width: 100%;\n            height: 100rpx;\n            line-height: 100rpx;\n            font-size: 30rpx;\n            font-weight: bold;\n            text-align: center;\n          \">开始签名</view>\n\t\t\t\t\t<canvas class=\"firstCanvas\" canvas-id=\"firstCanvas\" @touchmove=\"move\" @touchstart=\"start($event)\"\n\t\t\t\t\t\t@touchend=\"end\" @touchcancel=\"cancel\" @longtap=\"tap\" disable-scroll=\"true\"\n\t\t\t\t\t\t@error=\"error\"></canvas>\n\n\t\t\t\t\t<view class=\"caozuo\">\n\t\t\t\t\t\t<view class=\"chongqian\" @tap=\"clearClick\">重签</view>\n\t\t\t\t\t\t<view class=\"over\" @click=\"overSign\">完成签名</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</myPopup>\n\t\t\t<view style=\"display: flex; justify-content: center; margin-top: auto; background: #fffl\"\n\t\t\t\tv-if=\"token && agreementInfo.status === 1\">\n\t\t\t\t<view style=\"\n          text-align: center;\n          font-size: 26rpx;\n          width: 200rpx;\n          height: 70rpx;\n          line-height: 70rpx;\n          background-color: #0599d7;\n          color: #ffffff;\n          border-radius: 40rpx;\n          margin: 0 auto;\n          margin-top: 20rpx;\n        \" @click=\"showSign(1)\">\n\t\t\t\t\t{{ signImage1 ? \"重新签名\" : \"开始签名\" }}\n\t\t\t\t</view>\n\t\t\t\t<view v-if=\"signImage1\" style=\"\n          text-align: center;\n          font-size: 26rpx;\n          width: 200rpx;\n          height: 70rpx;\n          line-height: 70rpx;\n          background-color: #0599d7;\n          color: #ffffff;\n          border-radius: 40rpx;\n          margin: 0 auto;\n          margin-top: 20rpx;\n        \" @click=\"showSign(2)\">\n\t\t\t\t\t{{ signImage2 ? \"重新代签名\" : \"代签名\" }}\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"caozuo1\"></view>\n\t\t</view>\n\t\t<view class=\"bg-masker-loading\" v-show=\"showLoading\" @touchmove.stop.prevent @touchmove.stop.prevent>\n\t\t\t<view class=\"bg-masker-loading-fixed loading flex align-center justify-center\" @touchmove.stop.prevent\n\t\t\t\t@touchmove.stop.prevent>\n\t\t\t\t<u-loading color=\"#fff\" mode=\"flower\" :show=\"true\" :size=\"loadingSize\"></u-loading>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\timport {\n\t\tgetAgreementInfo,\n\t\timgUpload,\n\t\taddAutograph,\n\t\tgetAutographInfo,\n\t\tupdateAutograph\n\t\t// getAu\n\t} from \"@/apis/index.js\"\n\tvar content = null;\n\tvar touchs = [];\n\tvar canvasw = 0;\n\tvar canvash = 0;\n\tvar _that;\n\t//获取系统信息\n\tuni.getSystemInfo({\n\t\tsuccess: function(res) {\n\t\t\tcanvasw = res.windowWidth;\n\t\t\tcanvash = res.windowHeight;\n\t\t},\n\t});\n\timport myPopup from \"@/components/qianxiao-pop/qianxiao-pop.vue\";\n\texport default {\n\t\tcomponents: {\n\t\t\tmyPopup,\n\t\t},\n\t\tcomputed: {\n\t\t\ttoken() {\n\t\t\t\treturn this.$store.state.token;\n\t\t\t},\n\t\t\tuserInfo() {\n\t\t\t\treturn this.$store.state.userInfo;\n\t\t\t},\n\t\t\tloadingSize() {\n\t\t\t\treturn uni.upx2px(120)\n\t\t\t},\n\t\t\tshowLoading() {\n\t\t\t\treturn this.$store.state.loading\n\t\t\t},\n\t\t},\n\t\twatch: {\n\t\t\ttoken(val) {\n\t\t\t\tif (val) {\n\t\t\t\t\tthis.getAgreementInfo();\n\t\t\t\t\tthis.getAutographInfo();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tisLoad: false,\n\t\t\t\tagreementId: \"\",\n\t\t\t\tsignImage1: \"\",\n\t\t\t\tsignImage2: \"\",\n\t\t\t\tsignImageKey: \"signImage1\",\n\t\t\t\tisEnd: false, // 是否签名\n\t\t\t\t// 协议\n\t\t\t\tagreementInfo: {\n\t\t\t\t\ttitle: \"\",\n\t\t\t\t\tcontent: \"\",\n\t\t\t\t},\n\t\t\t\t// 用户签名\n\t\t\t\tautographInfo: {},\n\t\t\t\ttagStyle: {\n\t\t\t\t\ttable: 'box-sizing: border-box; border-top: 1px solid #dfe2e5; border-left: 1px solid #dfe2e5;',\n\t\t\t\t\tth: 'border-right: 1px solid #dfe2e5; border-bottom: 1px solid #dfe2e5;',\n\t\t\t\t\ttd: 'border-right: 1px solid #dfe2e5; border-bottom: 1px solid #dfe2e5;',\n\t\t\t\t\tli: 'margin: 5px 0;'\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\t\t/**\n\t\t * 生命周期函数--监听页面加载\n\t\t */\n\t\tonLoad: function(options) {\n\t\t\t_that = this;\n\t\t\t//获得Canvas的上下文\n\t\t\tcontent = uni.createCanvasContext(\"firstCanvas\", _that);\n\t\t\tif (!options.id) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: \"未知错误！\",\n\t\t\t\t\ticon: \"none\",\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.agreementId = options.id;\n\t\t\tthis.getAgreementInfo();\n\t\t\tthis.getAutographInfo()\n\t\t},\n\t\tonShareAppMessage(){\n\t\t\treturn {\n                title: this.agreementInfo.title,\n\t\t\t\tpath: '/pages/agreement/detai?id=' + this.agreementId,\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tgetAgreementInfo() {\n\t\t\t\tthis.$store.state.loading = true\n\t\t\t\tgetAgreementInfo({\n\t\t\t\t\tid: this.agreementId\n\t\t\t\t}).then(res => {\n\t\t\t\t\tthis.agreementInfo = res.data\n\t\t\t\t}).finally(() => {\n\t\t\t\t\tthis.isLoad = true\n\t\t\t\t\tthis.$store.state.loading = false\n\t\t\t\t})\n\t\t\t},\n\t\t\tgetAutographInfo() {\n\t\t\t\tgetAutographInfo({\n\t\t\t\t\tagreementId: this.agreementId\n\t\t\t\t}).then(res => {\n\t\t\t\t\tlet autographInfo = res.data.id ? res.data : {\n\t\t\t\t\t\tcontent: ''\n\t\t\t\t\t}\n\t\t\t\t\tthis.signImage1 = autographInfo.content.split(',')[0];\n\t\t\t\t\tthis.signImage2 = autographInfo.content.split(',')[1];\n\t\t\t\t\tthis.autographInfo = autographInfo;\n\t\t\t\t})\n\t\t\t},\n\t\t\taddAutograph(content) {\n\t\t\t\tlet that = this;\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\tthis.$store.state.loading = true\n\t\t\t\t\tlet request;\n\t\t\t\t\tif (this.autographInfo.id) {\n\t\t\t\t\t\trequest = updateAutograph({\n\t\t\t\t\t\t\tid: this.autographInfo.id,\n\t\t\t\t\t\t\tagreementId: this.agreementInfo.id,\n\t\t\t\t\t\t\tcontent: content\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\trequest = addAutograph({\n\t\t\t\t\t\t\tcontent: content,\n\t\t\t\t\t\t\tagreementId: that.agreementId\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tPromise.resolve(request).then(res => {\n\t\t\t\t\t\t\tresolve(res.data)\n\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\treject(err)\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.finally(() => {\n\t\t\t\t\t\t\tthis.$store.state.loading = false\n\t\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t},\n\t\t\thideShow() {\n\t\t\t\tconsole.log(\"333\");\n\t\t\t\t// #ifdef MP-WEIXIN\n\t\t\t\t_that.$refs.pop.hide();\n\t\t\t\t// #endif\n\t\t\t\t// #ifdef APP-PLUS || H5\n\t\t\t\t_that.$nextTick(() => {\n\t\t\t\t\t_that.$refs.pop.hide();\n\t\t\t\t});\n\t\t\t\t// #endif\n\t\t\t},\n\t\t\tshowSign(key = 1) {\n\t\t\t\tthis.signImageKey = key == 1 ? \"signImage1\" : \"signImage2\";\n\t\t\t\t// #ifdef MP-WEIXIN\n\t\t\t\t_that.$refs.pop.show();\n\t\t\t\t// #endif\n\t\t\t\t// #ifdef APP-PLUS || H5\n\t\t\t\t_that.$nextTick(() => {\n\t\t\t\t\t_that.$refs.pop.show();\n\t\t\t\t});\n\t\t\t\t// #endif\n\t\t\t},\n\t\t\toverSign: function() {\n\t\t\t\tlet that = this;\n\t\t\t\tif (_that.isEnd) {\n\t\t\t\t\tuni.canvasToTempFilePath({\n\t\t\t\t\t\tcanvasId: \"firstCanvas\",\n\t\t\t\t\t\tsuccess: async function(res) {\n\t\t\t\t\t\t\tlet signImage1 = _that.signImage1;\n\t\t\t\t\t\t\tlet signImage2 = _that.signImage2;\n\t\t\t\t\t\t\tlet imageUrl = await imgUpload(res.tempFilePath, 'autograph');\n\t\t\t\t\t\t\t_that.signImageKey == \"signImage1\" ?\n\t\t\t\t\t\t\t\t(signImage1 = imageUrl) :\n\t\t\t\t\t\t\t\t(signImage2 = imageUrl);\n\t\t\t\t\t\t\tif (_that.signImageKey == \"signImage2\" || signImage2) {\n\t\t\t\t\t\t\t\tawait _that.addAutograph(signImage1 + ',' + signImage2)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tawait _that.addAutograph(signImage1)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t_that.signImage1 = signImage1\n\t\t\t\t\t\t\t_that.signImage2 = signImage2\n\t\t\t\t\t\t\t_that.hideShow();\n\t\t\t\t\t\t\t_that.clearClick();\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: \"请先完成签名\",\n\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\tduration: 1500,\n\t\t\t\t\t\tmask: true,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// 画布的触摸移动开始手势响应\n\t\t\tstart: function(event) {\n\t\t\t\t// console.log(event)\n\t\t\t\t// console.log(\"触摸开始\" + event.changedTouches[0].x)\n\t\t\t\t// console.log(\"触摸开始\" + event.changedTouches[0].y)\n\t\t\t\t//获取触摸开始的 x,y\n\t\t\t\tlet point = {\n\t\t\t\t\tx: event.changedTouches[0].x,\n\t\t\t\t\ty: event.changedTouches[0].y,\n\t\t\t\t};\n\t\t\t\t// console.log(point)\n\t\t\t\ttouchs.push(point);\n\t\t\t},\n\t\t\t// 画布的触摸移动手势响应\n\t\t\tmove: function(e) {\n\t\t\t\tlet point = {\n\t\t\t\t\tx: e.touches[0].x,\n\t\t\t\t\ty: e.touches[0].y,\n\t\t\t\t};\n\t\t\t\t// console.log(point)\n\t\t\t\ttouchs.push(point);\n\t\t\t\tif (touchs.length >= 2) {\n\t\t\t\t\tthis.draw(touchs);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// 画布的触摸移动结束手势响应\n\t\t\tend: function(e) {\n\t\t\t\t// 设置为已经签名\n\t\t\t\tthis.isEnd = true;\n\t\t\t\tconsole.log(\"end\");\n\t\t\t\t// 清空轨迹数组\n\t\t\t\ttouchs.pop();\n\t\t\t\t// for (let i = 0; i < touchs.length; i++) {\n\t\t\t\t// \ttouchs.pop()\n\t\t\t\t// }\n\t\t\t},\n\n\t\t\t// 画布的触摸取消响应\n\t\t\tcancel: function(e) {},\n\n\t\t\t// 画布的长按手势响应\n\t\t\ttap: function(e) {},\n\t\t\t//画布触摸错误\n\t\t\terror: function(e) {},\n\n\t\t\t//绘制\n\t\t\tdraw: function(touchs) {\n\t\t\t\tlet point1 = touchs[0];\n\t\t\t\tlet point2 = touchs[1];\n\t\t\t\ttouchs.shift();\n\t\t\t\t//设置线的颜色\n\t\t\t\tcontent.setStrokeStyle(\"#000\");\n\t\t\t\t//设置线的宽度\n\t\t\t\tcontent.setLineWidth(5);\n\t\t\t\t//设置线两端端点样式更加圆润\n\t\t\t\tcontent.setLineCap(\"round\");\n\t\t\t\t//设置两条线连接处更加圆润\n\t\t\t\tcontent.setLineJoin(\"round\");\n\t\t\t\tcontent.moveTo(point1.x, point1.y);\n\t\t\t\tcontent.lineTo(point2.x, point2.y);\n\t\t\t\tcontent.stroke();\n\t\t\t\tcontent.draw(true);\n\t\t\t},\n\t\t\t//清除操作\n\t\t\tclearClick: function() {\n\t\t\t\t// 设置为未签名\n\t\t\t\tthis.isEnd = false;\n\t\t\t\t//清除画布\n\t\t\t\tcontent.clearRect(0, 0, canvasw, canvash);\n\t\t\t\tcontent.draw(true);\n\t\t\t},\n\t\t},\n\t};\n</script>\n\n<style>\n\t.ts {\n\t\tcolor: #ff485d;\n\t\tfont-size: 30upx;\n\t\theight: 100upx;\n\t\tline-height: 100upx;\n\t\tpadding-left: 20upx;\n\t}\n\n\tcanvas {\n\t\tbackground-color: #f2f2f2;\n\t\twidth: 100%;\n\t\theight: 20vh;\n\t\t/* margin: 0 25upx; */\n\t\t/* height: calc(100vh - 140upx); */\n\t}\n\n\t.contents {\n\t\tmin-height: 99vh;\n\t\tpadding-top: 20upx;\n\t\tpadding-bottom: 100upx;\n\t\tbox-sizing: border-box;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tbackground-color: #fff;\n\t}\n\n\t#signatureImg {\n\t\tbackground-color: #fff;\n\t}\n\n\t.caozuo1 {\n\t\tdisplay: flex;\n\t\theight: 0;\n\t\theight: constant(safe-area-inset-bottom);\n\t\theight: env(safe-area-inset-bottom);\n\t\twidth: 750upx;\n\t\tposition: fixed;\n\t\tleft: 0;\n\t\tbottom: 0;\n\t\tbackground-color: #eeeeee;\n\t\tbackground-color: #fff;\n\t\tz-index: 1000;\n\t}\n\n\t.caozuo {\n\t\tdisplay: flex;\n\t\theight: 100rpx;\n\t\twidth: 100%;\n\t\tmargin-top: 20rpx;\n\t\tfont-size: 28rpx;\n\t}\n\n\t.caozuo view {\n\t\twidth: 40%;\n\t\ttext-align: center;\n\t\theight: 80rpx;\n\t\tline-height: 80rpx;\n\t\tcolor: #ffffff;\n\t\tmargin-left: 5%;\n\t\tborder-radius: 40rpx;\n\t}\n\n\t.caozuo view:last-child {\n\t\twidth: 40%;\n\t\ttext-align: center;\n\t\theight: 80rpx;\n\t\tline-height: 80rpx;\n\t\tcolor: #ffffff;\n\t\tmargin-left: 10%;\n\t}\n\n\t.caozuo view:active {\n\t\tbackground-color: #cccccc;\n\t\tcolor: #333333;\n\t\tbackground-color: #fff\n\t}\n\n\t.chongqian {\n\t\tbackground-color: #ff8f58;\n\t}\n\n\t.over {\n\t\tbackground-color: #0599d7;\n\t}\n</style>\n","import mod from \"-!../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detai.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detai.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1709824501890\n      var cssReload = require(\"E:/安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}