{"version":3,"sources":["webpack:///E:/newELv/erlvzihuwai/donkeys-applet/components/mp-html/node/node.vue?d289","webpack:///E:/newELv/erlvzihuwai/donkeys-applet/components/mp-html/node/node.vue?e1e6","webpack:///E:/newELv/erlvzihuwai/donkeys-applet/components/mp-html/node/node.vue?c522","webpack:///E:/newELv/erlvzihuwai/donkeys-applet/components/mp-html/node/node.vue?aa8d","uni-app:///components/mp-html/node/node.vue","webpack:///E:/newELv/erlvzihuwai/donkeys-applet/components/mp-html/node/node.vue?bd66","webpack:///E:/newELv/erlvzihuwai/donkeys-applet/components/mp-html/node/node.vue?e8ae","webpack:///E:/newELv/erlvzihuwai/donkeys-applet/components/mp-html/node/node.vue?d666","webpack:///E:/newELv/erlvzihuwai/donkeys-applet/components/mp-html/node/node.vue?c49c"],"names":["top","name","options","virtualHost","data","ctrl","props","attrs","type","default","childs","opts","components","node","mounted","$parent","beforeDestroy","methods","editStart","setTimeout","editInput","res","editEnd","insert","list","text","remove","src","nodeTap","start","parent","items","success","value","min","max","changing","change","style","arr","newStyle","mediaTap","uni","title","autoplay","changeStyle","toJSON","play","flag","ctx","imgTap","current","urls","href","children","wx","url","ignore","imgLongTap","imgLoad","linkTap","innerText","fail","mediaError","index","source","errMsg"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAigC;AACjgC;AACwD;AACL;AACa;;;AAGhE;AACuM;AACvM,gBAAgB,uMAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+9BAAM;AACR,EAAE,w+BAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,m+BAAU;AACZ;AACA;;AAEA;AACgG;AAChG,WAAW,kHAAM,iBAAiB,0HAAM;;AAExC;AACe,gF;;;;;;;;;;;;AC3Bf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAqxB,CAAgB,gvBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACsJzyB;EACA;EAQAA;EAEA,2CACAA;EACA,cACAA;EACA;AACA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,gBAGA;EACAC;EACAC;IAEAC;EAKA;EACAC;IACA;MACAC;IACA;EACA;EACAC;IACAL;IACAM;MACAC;MACAC;QACA;MACA;IACA;IACAC;IACAC;EACA;EAEAC;IACAC;EACA;EAEAC;IAAA;IACA;MACA,iGACAC;QAAA;MAAA;IACA;EAqBA;EACAC;IACA;MACA;IACA;EAMA;EACAC;IACAC;MAAA;MACA;QACA;QACA;UACA;UACA;UACAC;YACA;cAAA;YAAA;UACA;UACA;UACA;UACA;QACA;UACA;UACA;UACA;UACA;UACA;UACAA;YACA;UACA;QACA;MACA;IACA;IACAC;MACA;MACA;MACA;QACA;QACA;UACAC;QACA;QACA;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;QACA;MACA;IACA;IACAC;MAAA;MACAJ;QACA;QACA;UACAT;QACA;UACA;UACA;UACA;UACA;YACAc;cACAhB;cACAiB;YACA;UACA;UACAD;UACA;YACAA;cACAhB;cACAiB;YACA;UACA;UACAf;QACA;UACAA;QACA;QACA;MACA;IACA;IACAgB;MACA;MACA;MACA;QACA;QACA;UACAC;QACA;QACA;UACAnB;UACAmB;QACA;MACA;MACA;MACA;MACA;IACA;IACAC;MAAA;MACA;QACA;QACA;QACAT;UACA;QACA;QACA;QACA;QACA;QACA;QACA;UACAU;QACA;UACAA;QACA;QACA;QACA;QACA;UACAC;QACA;QACA;QACA;QACA;QACA;UAAA;QAAA;QACA;UACA;UACA;YAAA;UAAA;UACA;UACA;QACA;QACA;QACA;UACA9B;UACA+B;UACAC;YACA;cACA;cACA;cACA;cACA;gBACAC;cACA;gBACAA;cACA;cACA;gBACAC;gBACAC;gBACAF;gBACAjC;gBACAoC;kBACA;oBACA;oBACAN,uDACA;oBACAG;kBACA;gBACA;gBACAI;kBACA;oBACAP,uDACA;kBACA;kBACA,+EACAQ;gBACA;cACA;YACA;cACA;cACA;cACA;gBACAC;gBACAA;cACA;gBACAA;gBACAA;cACA;cACA;YACA;cACA;cACA;cACA;cACA;gBACAN;cACA;gBACAA;cACA;cACA;gBACAC;gBACAC;gBACAF;gBACAjC;gBACAoC;kBACA;oBACA;oBACAN,yDACA;oBACAG;kBACA;gBACA;gBACAI;kBACA;oBACAP,yDACA;kBACA;kBACA,+EACAQ;gBACA;cACA;YACA;cACA;cACA;cACA;cACA;cACA;gBACAL;cACA;gBACAA;cACA;cACA;gBACAC;gBACAC;gBACAF;gBACAjC;gBACAoC;kBACA;oBACA;oBACAN,mDACAG,UACA;oBACAA;kBACA;gBACA;gBACAI;kBACA;oBACAP,mDACAG,UACA;kBACA;kBACA,+EACAK;gBACA;cACA;YACA;cACAR;YACA;cACA;cACA;cACA;cACA;cACA;cACA;gBACA7B;gBACAgC;cACA;gBACAhC;gBACAgC;cACA;gBACAhC;gBACAgC;cACA;gBACAhC;gBACAgC;cACA;gBACAhC;gBACAgC;cACA;cACA;gBACA;gBACAO;cACA;gBACA;gBACAA;cACA;cACA;YACA;UACA;QACA;MACA;IACA;IACAC;MAAA;MACA;QACA;QACA;QACA;QACA;QACA;QACA;UACAzC;UACA+B;UACAC;YACA;cACA;gBACA;gBACA;kBACA,qFACAzB,mDACA;gBACA;gBACA;cACA;gBACA;gBACA;cACA;cACA;gBACA;gBACA;gBACAmC;kBACAC;gBACA;gBACA;cACA;cACA;gBACA;gBACA,8FACAC;gBACAF;kBACAC;gBACA;gBACA;YAAA;UAEA;QACA;QACA;QACA;QACAxB;UACA;QACA;MACA;IACA;IACA0B;MACA;MACA;QACA;QACAP;MACA;QACA;QACAA;MACA;MACA;IACA;IAEAQ;IAEA;AACA;AACA;AACA;IACAC;MAEA;QACA;QACA;QACA;UACA;YACAC;UACA;YACA;UACA;QACA;QACA;QACA;UACA,qCAEA,KAEA;UACAC;UACA;QACA;MACA;IAEA;IAEA;AACA;AACA;AACA;IACAC;MAAA;MACA;QACA;QACA;UACA;UACA;QACA;QACA;QAIA;QACA;QACA;UACAR;YACAS;YACAC;UACA;QACA;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;UAAA;QAAA;QACA;UACApD;UACA+B;UACAC;YACA;cACA;cACA;gBACA,oEACAzB;cACA;YACA;cACA;cACA;cACA;cACA;gBACA0B;cACA;gBACAA;cACA;cACA;gBACAC;gBACAC;gBACAF;gBACAjC;gBACAoC;kBACA;kBACA;oBACA,sDACA;oBACAH;kBACA;gBACA;gBACAI;kBACA;oBACA,sDACA;oBACAJ;kBACA;kBACA,gEACAK;gBACA;cACA;YACA;cACA;cACA;gBACA;gBACA;kBACA,mEACAe;gBACA;kBACA;oBACApD;oBACAM;sBACA8C;oBACA;oBACAC;kBACA;kBACAzC;kBACA;gBACA;gBACA0C;kBACAZ;gBACA;cACA;YACA;cACA;cACA;gBACA,uEACA9B,6DACA2C;gBACAd;kBACAC;gBACA;cACA;YACA;cACA;cACA;cACA;cACA;gBACAV;cACA;gBACAA;cACA;cACA;gBACAC;gBACAC;gBACAF;gBACAjC;gBACAoC;kBACA;oBACA;oBACA,0DACA;oBACAH;kBACA;gBACA;gBACAI;kBACA;oBACA,0DACA;kBACA;kBACA,+EACAC;gBACA;cACA;YACA;cACA;cACA;cACA;cACA;gBACAL;cACA;gBACAA;cACA;cACA;gBACAC;gBACAC;gBACAF;gBACAjC;gBACAoC;kBACA;oBACA;oBACA,mDACAH,UACA;oBACAA;kBACA;gBACA;gBACAI;kBACA;oBACA,mDACAJ,UACA;kBACA;kBACA,+EACAK;gBACA;cACA;YACA;cACA;YACA;cACA;cACA,8EACAmB;cACAf;gBACAC;cACA;YACA;UACA;QACA;QACA;QACAxB;UACA;QACA;MACA;IACA;IACA;AACA;AACA;IACAuC,oCA6BA;IAEA;AACA;AACA;AACA;IACAC;MAAA;MACA;MAEA,kBACA;QACA;QACA;QACA;QACAjB;UAAA;UACA;QACA;MACA;MAEA;MAEA;QACA;QACA;UACA;UACA,0BACA;UACA;QACA;MACA,OACA;QACA;QACA;MACA;IACA;IAEA;AACA;AACA;AACA;IACAkB;MAAA;MACA;QACA;QACA;QACA;QACA;UACAC;QACA;QACA;UACA;YACA;YACA;UACA;YACA;YACA;cAKAnB;gBACAtC;gBACA4B;kBAAA,OACAU;oBACAC;kBACA;gBAAA;cACA;YAKA;UACA;YACA;YACAD;cACAc;cACAM;gBACApB;kBACAc;kBACAM;gBACA;cACA;YACA;UACA;QACA;MACA;QACA;QACA;QACA;QACA;UACA9D;UACA+B;UACAC;YACA;cACA;gBACA,sEACAzB;gBACAmC;kBACAC;gBACA;cACA;YACA;cACA;YACA;UACA;QACA;MACA;IACA;IACA;AACA;AACA;AACA;IACAoB;MACA;MACA;MACA;MACA;QACA;QACA;UACAC;QACA;QACA;UACA;UACA;QACA;MACA;QAIA;QACA;UACA;QACA;MACA;MACA;QACA;UACAC;UACA1D;UAEA2D;QAEA;MACA;IACA;EACA;AACA;AAAA,4B;;;;;;;;;;;;;ACv8BA;AAAA;AAAA;AAAA;AAAgnC,CAAgB,yhCAAG,EAAC,C;;;;;;;;;;;ACApoC;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;ACNL;AAAA;AAAA,wCAAsjB,CAAgB,ikBAAG,EAAC,C;;;;;;;;;;;;ACA1kB;AAAe;AACf;AACA;AACA;;AAEA,M","file":"components/mp-html/node/node.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./node.vue?vue&type=template&id=1d2f0fca&filter-modules=eyJoYW5kbGVyIjp7InR5cGUiOiJzY3JpcHQiLCJjb250ZW50IjoiLy8g6KGM5YaF5qCH562%2B5YiX6KGoXG52YXIgaW5saW5lVGFncyA9IHtcblx0YWJicjogdHJ1ZSxcblx0YjogdHJ1ZSxcblx0YmlnOiB0cnVlLFxuXHRjb2RlOiB0cnVlLFxuXHRkZWw6IHRydWUsXG5cdGVtOiB0cnVlLFxuXHRpOiB0cnVlLFxuXHRpbnM6IHRydWUsXG5cdGxhYmVsOiB0cnVlLFxuXHRxOiB0cnVlLFxuXHRzbWFsbDogdHJ1ZSxcblx0c3BhbjogdHJ1ZSxcblx0c3Ryb25nOiB0cnVlLFxuXHRzdWI6IHRydWUsXG5cdHN1cDogdHJ1ZVxufVxuLyoqXG4gKiBAZGVzY3JpcHRpb24g5piv5ZCm5L2%2F55SoIHJpY2gtdGV4dCDmmL7npLrliankvZnlhoXlrrlcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSB7XG5cdHVzZTogZnVuY3Rpb24oaXRlbSkge1xuXHRcdGlmIChpdGVtLmMpIHJldHVybiBmYWxzZVxuXHRcdC8vIOW%2BruS%2FoeWSjCBRUSDnmoQgcmljaC10ZXh0IGlubGluZSDluIPlsYDml6DmlYhcblx0XHRyZXR1cm4gIWlubGluZVRhZ3NbaXRlbS5uYW1lXSAmJiAoaXRlbS5hdHRycy5zdHlsZSB8fCAnJykuaW5kZXhPZignZGlzcGxheTppbmxpbmUnKSA9PSAtMVxuXHR9XG59Iiwic3RhcnQiOjcwNDksImF0dHJzIjp7Im1vZHVsZSI6ImhhbmRsZXIiLCJsYW5nIjoid3hzIn0sImVuZCI6NzUzOX19&\"\nvar renderjs\nimport script from \"./node.vue?vue&type=script&lang=js&\"\nexport * from \"./node.vue?vue&type=script&lang=js&\"\nimport style0 from \"./node.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* custom blocks */\nimport block0 from \"./node.vue?vue&type=custom&index=0&blockType=script&module=handler&lang=wxs\"\nif (typeof block0 === 'function') block0(component)\n\ncomponent.options.__file = \"components/mp-html/node/node.vue\"\nexport default component.exports","export * from \"-!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./node.vue?vue&type=template&id=1d2f0fca&filter-modules=eyJoYW5kbGVyIjp7InR5cGUiOiJzY3JpcHQiLCJjb250ZW50IjoiLy8g6KGM5YaF5qCH562%2B5YiX6KGoXG52YXIgaW5saW5lVGFncyA9IHtcblx0YWJicjogdHJ1ZSxcblx0YjogdHJ1ZSxcblx0YmlnOiB0cnVlLFxuXHRjb2RlOiB0cnVlLFxuXHRkZWw6IHRydWUsXG5cdGVtOiB0cnVlLFxuXHRpOiB0cnVlLFxuXHRpbnM6IHRydWUsXG5cdGxhYmVsOiB0cnVlLFxuXHRxOiB0cnVlLFxuXHRzbWFsbDogdHJ1ZSxcblx0c3BhbjogdHJ1ZSxcblx0c3Ryb25nOiB0cnVlLFxuXHRzdWI6IHRydWUsXG5cdHN1cDogdHJ1ZVxufVxuLyoqXG4gKiBAZGVzY3JpcHRpb24g5piv5ZCm5L2%2F55SoIHJpY2gtdGV4dCDmmL7npLrliankvZnlhoXlrrlcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSB7XG5cdHVzZTogZnVuY3Rpb24oaXRlbSkge1xuXHRcdGlmIChpdGVtLmMpIHJldHVybiBmYWxzZVxuXHRcdC8vIOW%2BruS%2FoeWSjCBRUSDnmoQgcmljaC10ZXh0IGlubGluZSDluIPlsYDml6DmlYhcblx0XHRyZXR1cm4gIWlubGluZVRhZ3NbaXRlbS5uYW1lXSAmJiAoaXRlbS5hdHRycy5zdHlsZSB8fCAnJykuaW5kZXhPZignZGlzcGxheTppbmxpbmUnKSA9PSAtMVxuXHR9XG59Iiwic3RhcnQiOjcwNDksImF0dHJzIjp7Im1vZHVsZSI6ImhhbmRsZXIiLCJsYW5nIjoid3hzIn0sImVuZCI6NzUzOX19&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./node.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./node.vue?vue&type=script&lang=js&\"","<template>\n\t<view @tap=\"nodeTap\" :id=\"attrs.id\" :class=\"'_block _'+name+' '+attrs.class\"\n\t\t:style=\"(ctrl.root?'border:1px solid black;padding:5px;display:block;':'')+attrs.style\">\n\t\t<block v-for=\"(n, i) in childs\" v-bind:key=\"i\">\n\t\t\t<!-- 图片 -->\n\t\t\t<!-- 占位图 -->\n\t\t\t<image v-if=\"n.name==='img'&&((opts[1]&&!ctrl[i])||ctrl[i]<0)\" class=\"_img\" :style=\"n.attrs.style\"\n\t\t\t\t:src=\"ctrl[i]<0?opts[2]:opts[1]\" mode=\"widthFix\" :data-info=\"n.attrs.style\" />\n\t\t\t<!-- 显示图片 -->\n\t\t\t<!-- #ifdef H5 || (APP-PLUS && VUE2) -->\n\t\t\t<img v-if=\"n.name==='img'\" :id=\"n.attrs.id\" :class=\"'_img '+n.attrs.class\"\n\t\t\t\t:style=\"(ctrl['e'+i]?'border:1px dashed black;padding:3px;':'')+(ctrl[i]===-1?'display:none;':'')+n.attrs.style\"\n\t\t\t\t:src=\"n.attrs.src||(ctrl.load?n.attrs['data-src']:'')\" :data-i=\"i\" @load=\"imgLoad\" @error=\"mediaError\"\n\t\t\t\t@tap.stop=\"imgTap\" @longpress=\"imgLongTap\" />\n\t\t\t<!-- #endif -->\n\t\t\t<!-- #ifdef APP-PLUS && VUE3 -->\n\t\t\t<image v-if=\"n.name==='img'\" :id=\"n.attrs.id||('n'+i)\" :class=\"'_img '+n.attrs.class\"\n\t\t\t\t:style=\"(ctrl['e'+i]?'border:1px dashed black;padding:3px;':'')+(ctrl[i]===-1?'display:none;':'')+'width:'+(ctrl[i]||1)+'px;'+n.attrs.style\"\n\t\t\t\t:src=\"n.attrs.src||(ctrl.load?n.attrs['data-src']:'')\" :mode=\"n.h?'':'widthFix'\" :data-i=\"i\"\n\t\t\t\t@load=\"imgLoad\" @error=\"mediaError\" @tap.stop=\"imgTap\" @longpress=\"imgLongTap\"\n\t\t\t\t/>\n\t\t\t<!-- #endif -->\n\t\t\t<!-- #ifndef H5 || APP-PLUS -->\n\t\t\t<image v-if=\"n.name==='img'\" :id=\"n.attrs.id || ('n' + i)\" :class=\"'_img '+n.attrs.class\"\n\t\t\t\t:style=\"(ctrl['e'+i]?'border:1px dashed black;padding:3px;':'')+(ctrl[i]===-1?'display:none;':'')+'width:'+(ctrl[i]||1)+'px;height:'+(ctrl['h'+i]||1)+'px;'+n.attrs.style\"\n\t\t\t\t:src=\"n.attrs.src\" :mode=\"n.h?'':'widthFix'\" :lazy-load=\"opts[0]\" :webp=\"n.webp\"\n\t\t\t\t:show-menu-by-longpress=\"!opts[4]&&opts[3]&&!n.attrs.ignore\"\n\t\t\t\t:image-menu-prevent=\"opts[4]||!opts[3]||n.attrs.ignore\" :data-i=\"i\" @load=\"imgLoad\" @error=\"mediaError\"\n\t\t\t\t@tap.stop=\"imgTap\" @longpress=\"imgLongTap\" :data-info=\"n.attrs.id\"/>\n\t\t\t<!-- #endif -->\n\t\t\t<!-- 文本 -->\n\t\t\t<text v-else-if=\"n.type==='text'&&!ctrl['e'+i]\" :data-i=\"i\" :user-select=\"n.us\" :decode=\"!opts[4]\"\n\t\t\t\t@tap=\"editStart\">{{n.text}}\n\t\t\t\t<text v-if=\"!n.text\" style=\"color:gray\">{{opts[5]||'请输入'}}</text>\n\t\t\t</text>\n\t\t\t<text v-else-if=\"n.type==='text'&&ctrl['e'+i]===1\" :data-i=\"i\"\n\t\t\t\tstyle=\"border:1px dashed black;min-width:50px;width:auto;padding:5px;display:block\"\n\t\t\t\t@tap.stop=\"editStart\">{{n.text}}\n\t\t\t\t<text v-if=\"!n.text\" style=\"color:gray\">{{opts[5]||'请输入'}}</text>\n\t\t\t</text>\n\t\t\t<textarea v-else-if=\"n.type==='text'\" style=\"border:1px dashed black;min-width:50px;width:auto;padding:5px\"\n\t\t\t\tauto-height maxlength=\"-1\" :focus=\"ctrl['e'+i]===3\" :value=\"n.text\" :data-i=\"i\" @input=\"editInput\"\n\t\t\t\t@blur=\"editEnd\" />\n\t\t\t<text v-else-if=\"n.name==='br'\">\\n</text>\n\t\t\t<!-- 链接 -->\n\t\t\t<view v-else-if=\"n.name==='a'\" :id=\"n.attrs.id\" :class=\"(n.attrs.href?'_a ':'')+n.attrs.class\"\n\t\t\t\thover-class=\"_hover\" :style=\"'display:inline;'+n.attrs.style\" :data-i=\"i\" @tap.stop=\"linkTap\">\n\t\t\t\t<node name=\"span\" :childs=\"n.children\"\n\t\t\t\t\t:opts=\"[opts[0],opts[1],opts[2],opts[3],opts[4],opts[5],opts[6]+'.'+i+'.children']\"\n\t\t\t\t\tstyle=\"display:inherit\" />\n\t\t\t</view>\n\t\t\t<!-- 视频 -->\n\t\t\t<!-- #ifdef APP-PLUS -->\n\t\t\t<view v-else-if=\"n.html\" :data-i=\"i\" @tap=\"mediaTap\" :id=\"n.attrs.id\" :class=\"'_video '+n.attrs.class\"\n\t\t\t\t:style=\"n.attrs.style\" v-html=\"n.html\" />\n\t\t\t<!-- #endif -->\n\t\t\t<!-- #ifndef APP-PLUS -->\n\t\t\t<video :show-center-play-btn=\"!opts[4]\" @tap=\"mediaTap\" v-else-if=\"n.name==='video'\" :id=\"n.attrs.id\"\n\t\t\t\t:class=\"n.attrs.class\" :style=\"n.attrs.style\" :autoplay=\"n.attrs.autoplay\" :controls=\"n.attrs.controls\"\n\t\t\t\t:loop=\"n.attrs.loop\" :muted=\"n.attrs.muted\" :poster=\"n.attrs.poster\" :src=\"n.src[ctrl[i]||0]\"\n\t\t\t\t:data-i=\"i\" @play=\"play\" @error=\"mediaError\" />\n\t\t\t<!-- #endif -->\n\t\t\t<!-- #ifdef H5 || APP-PLUS -->\n\t\t\t<iframe v-else-if=\"n.name==='iframe'\" :style=\"n.attrs.style\" :allowfullscreen=\"n.attrs.allowfullscreen\"\n\t\t\t\t:frameborder=\"n.attrs.frameborder\" :src=\"n.attrs.src\" />\n\t\t\t<embed v-else-if=\"n.name==='embed'\" :style=\"n.attrs.style\" :src=\"n.attrs.src\" />\n\t\t\t<!-- #endif -->\n\t\t\t<!-- #ifndef MP-TOUTIAO || ((H5 || APP-PLUS) && VUE3) -->\n\t\t\t<!-- 音频 -->\n\t\t\t<audio @tap=\"mediaTap\" v-else-if=\"n.name==='audio'\" :id=\"n.attrs.id\" :class=\"n.attrs.class\"\n\t\t\t\t:style=\"n.attrs.style\" :author=\"n.attrs.author\" :controls=\"n.attrs.controls\" :loop=\"n.attrs.loop\"\n\t\t\t\t:name=\"n.attrs.name\" :poster=\"n.attrs.poster\" :src=\"n.src[ctrl[i]||0]\" :data-i=\"i\" @play=\"play\"\n\t\t\t\t@error=\"mediaError\" />\n\t\t\t<!-- #endif -->\n\t\t\t<view v-else-if=\"(n.name==='table'&&(n.c||opts[4]))||n.name==='li'\" :id=\"n.attrs.id\"\n\t\t\t\t:class=\"'_'+n.name+' '+n.attrs.class\" :style=\"n.attrs.style\">\n\t\t\t\t<node v-if=\"n.name==='li'\" :childs=\"n.children\"\n\t\t\t\t\t:opts=\"[opts[0],opts[1],opts[2],opts[3],opts[4],opts[5],opts[6]+'.'+i+'.children']\" />\n\t\t\t\t<view v-else v-for=\"(tbody, x) in n.children\" v-bind:key=\"x\"\n\t\t\t\t\t:class=\"'_'+tbody.name+' '+tbody.attrs.class\" :style=\"tbody.attrs.style\">\n\t\t\t\t\t<node v-if=\"tbody.name==='td'||tbody.name==='th'\" :childs=\"tbody.children\"\n\t\t\t\t\t\t:opts=\"[opts[0],opts[1],opts[2],opts[3],opts[4],opts[5],opts[6]+'.'+i+'.children.'+x+'.children']\" />\n\t\t\t\t\t<block v-else v-for=\"(tr, y) in tbody.children\" v-bind:key=\"y\">\n\t\t\t\t\t\t<view v-if=\"tr.name==='td'||tr.name==='th'\" :class=\"'_'+tr.name+' '+tr.attrs.class\"\n\t\t\t\t\t\t\t:style=\"tr.attrs.style\">\n\t\t\t\t\t\t\t<node :childs=\"tr.children\"\n\t\t\t\t\t\t\t\t:opts=\"[opts[0],opts[1],opts[2],opts[3],opts[4],opts[5],opts[6]+'.'+i+'.children.'+x+'.children.'+y+'.children']\" />\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view v-else :class=\"'_'+tr.name+' '+tr.attrs.class\" :style=\"tr.attrs.style\">\n\t\t\t\t\t\t\t<view v-for=\"(td, z) in tr.children\" v-bind:key=\"z\" :class=\"'_'+td.name+' '+td.attrs.class\"\n\t\t\t\t\t\t\t\t:style=\"td.attrs.style\">\n\t\t\t\t\t\t\t\t<node :childs=\"td.children\"\n\t\t\t\t\t\t\t\t\t:opts=\"[opts[0],opts[1],opts[2],opts[3],opts[4],opts[5],opts[6]+'.'+i+'.children.'+x+'.children.'+y+'.children.'+z+'.children']\" />\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</block>\n\t\t\t\t</view>\n\t\t\t</view>\n\n\t\t\t<!-- 富文本 -->\n\t\t\t<!-- #ifdef H5 || ((MP-WEIXIN || MP-QQ || APP-PLUS || MP-360) && VUE2) -->\n\t\t\t<rich-text v-else-if=\"!opts[4]&&handler.use(n)\" :id=\"n.attrs.id\" :style=\"n.f\" :nodes=\"[n]\" />\n\t\t\t<!-- #endif -->\n\t\t\t<!-- #ifndef H5 || ((MP-WEIXIN || MP-QQ || APP-PLUS || MP-360) && VUE2) -->\n\t\t\t<rich-text v-else-if=\"!opts[4]&&!n.c\" :id=\"n.attrs.id\" :style=\"n.f+';display:inline'\" :preview=\"false\"\n\t\t\t\t:nodes=\"[n]\" />\n\t\t\t<!-- #endif -->\n\t\t\t<!-- 继续递归 -->\n\t\t\t<view v-else-if=\"n.c===2\" :id=\"n.attrs.id\" :class=\"'_block _'+n.name+' '+n.attrs.class\"\n\t\t\t\t:style=\"n.f+';'+n.attrs.style\">\n\t\t\t\t<node v-for=\"(n2, j) in n.children\" v-bind:key=\"j\" :style=\"n2.f\" :name=\"n2.name\" :attrs=\"n2.attrs\"\n\t\t\t\t\t:childs=\"n2.children\"\n\t\t\t\t\t:opts=\"[opts[0],opts[1],opts[2],opts[3],opts[4],opts[5],opts[6]+'.'+i+'.children.'+j+'.children']\" />\n\t\t\t</view>\n\t\t\t<node v-else :style=\"n.f\" :name=\"n.name\" :attrs=\"n.attrs\" :childs=\"n.children\"\n\t\t\t\t:opts=\"[opts[0],opts[1],opts[2],opts[3],opts[4],opts[5],opts[6]+'.'+i+'.children']\" />\n\t\t</block>\n\t</view>\n</template>\n<script module=\"handler\" lang=\"wxs\">\n\t// 行内标签列表\n\tvar inlineTags = {\n\t\tabbr: true,\n\t\tb: true,\n\t\tbig: true,\n\t\tcode: true,\n\t\tdel: true,\n\t\tem: true,\n\t\ti: true,\n\t\tins: true,\n\t\tlabel: true,\n\t\tq: true,\n\t\tsmall: true,\n\t\tspan: true,\n\t\tstrong: true,\n\t\tsub: true,\n\t\tsup: true\n\t}\n\t/**\n\t * @description 是否使用 rich-text 显示剩余内容\n\t */\n\tmodule.exports = {\n\t\tuse: function(item) {\n\t\t\tif (item.c) return false\n\t\t\t// 微信和 QQ 的 rich-text inline 布局无效\n\t\t\treturn !inlineTags[item.name] && (item.attrs.style || '').indexOf('display:inline') == -1\n\t\t}\n\t}\n</script>\n<script>\n\tfunction getTop(e) {\n\t\tlet top\n\t\t// #ifdef H5 || APP-PLUS\n\t\ttop = e.touches[0].pageY\n\t\t// #endif\n\t\t// #ifdef MP-ALIPAY\n\t\ttop = e.detail.pageY\n\t\t// #endif\n\t\t// #ifndef H5 || MP-ALIPAY || APP-PLUS\n\t\ttop = e.detail.y\n\t\t// #endif\n\t\tif (top - e.currentTarget.offsetTop < 150)\n\t\t\ttop = e.currentTarget.offsetTop\n\t\tif (top < 30)\n\t\t\ttop += 70\n\t\treturn top - 30\n\t}\n\n\timport node from './node'\n\texport default {\n\t\tname: 'node',\n\t\toptions: {\n\t\t\t// #ifdef MP-WEIXIN\n\t\t\tvirtualHost: true,\n\t\t\t// #endif\n\t\t\t// #ifdef MP-TOUTIAO\n\t\t\taddGlobalClass: false\n\t\t\t// #endif\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tctrl: {}\n\t\t\t}\n\t\t},\n\t\tprops: {\n\t\t\tname: String,\n\t\t\tattrs: {\n\t\t\t\ttype: Object,\n\t\t\t\tdefault () {\n\t\t\t\t\treturn {}\n\t\t\t\t}\n\t\t\t},\n\t\t\tchilds: Array,\n\t\t\topts: Array\n\t\t},\n\t\t// #ifndef H5 && VUE3\n\t\tcomponents: {\n\t\t\tnode\n\t\t},\n\t\t// #endif\n\t\tmounted() {\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tfor (this.root = this.$parent; this.root.$options.name !== 'mp-html'; this.root = this.root\n\t\t\t\t\t.$parent);\n\t\t\t})\n\t\t\t// #ifdef H5 || APP-PLUS\n\t\t\tif (this.opts[0]) {\n\t\t\t\tlet i\n\t\t\t\tfor (i = this.childs.length; i--;) {\n\t\t\t\t\tif (this.childs[i].name === 'img') break\n\t\t\t\t}\n\t\t\t\tif (i !== -1) {\n\t\t\t\t\tthis.observer = uni.createIntersectionObserver(this).relativeToViewport({\n\t\t\t\t\t\ttop: 500,\n\t\t\t\t\t\tbottom: 500\n\t\t\t\t\t})\n\t\t\t\t\tthis.observer.observe('._img', res => {\n\t\t\t\t\t\tif (res.intersectionRatio) {\n\t\t\t\t\t\t\tthis.$set(this.ctrl, 'load', 1)\n\t\t\t\t\t\t\tthis.observer.disconnect()\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\t// #endif\n\t\t},\n\t\tbeforeDestroy() {\n\t\t\tif (this.root._edit === this) {\n\t\t\t\tthis.root._edit = undefined\n\t\t\t}\n\t\t\t// #ifdef H5 || APP-PLUS\n\t\t\tif (this.observer) {\n\t\t\t\tthis.observer.disconnect()\n\t\t\t}\n\t\t\t// #endif\n\t\t},\n\t\tmethods: {\n\t\t\teditStart(e) {\n\t\t\t\tif (this.opts[4]) {\n\t\t\t\t\tconst i = e.currentTarget.dataset.i\n\t\t\t\t\tif (!this.ctrl['e' + i]) {\n\t\t\t\t\t\t// 显示虚线框\n\t\t\t\t\t\tthis.$set(this.ctrl, 'e' + i, 1)\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.root._mask.push(() => this.$set(this.ctrl, 'e' + i, 0))\n\t\t\t\t\t\t}, 50)\n\t\t\t\t\t\tthis.root._edit = this\n\t\t\t\t\t\tthis.i = i\n\t\t\t\t\t\tthis.cursor = this.childs[i].text.length\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.root._mask.pop()\n\t\t\t\t\t\tthis.root._maskTap()\n\t\t\t\t\t\t// 将 text 转为 textarea\n\t\t\t\t\t\tthis.$set(this.ctrl, 'e' + i, 2)\n\t\t\t\t\t\t// 延时对焦，避免高度错误\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.$set(this.ctrl, 'e' + i, 3)\n\t\t\t\t\t\t}, 50)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\teditInput(e) {\n\t\t\t\tconst i = e.target.dataset.i\n\t\t\t\t// 替换连续空格\n\t\t\t\tconst value = e.detail.value.replace(/ {2,}/, $ => {\n\t\t\t\t\tlet res = '\\xa0'\n\t\t\t\t\tfor (let i = 1; i < $.length; i++) {\n\t\t\t\t\t\tres += '\\xa0'\n\t\t\t\t\t}\n\t\t\t\t\treturn res\n\t\t\t\t})\n\t\t\t\tthis.root._editVal(`${this.opts[6]}.${i}.text`, this.childs[i].text, value) // 记录编辑历史\n\t\t\t\tthis.cursor = e.detail.cursor\n\t\t\t},\n\t\t\teditEnd(e) {\n\t\t\t\tconst i = e.target.dataset.i\n\t\t\t\tthis.$set(this.ctrl, 'e' + i, 0)\n\t\t\t\t// 更新到视图\n\t\t\t\tthis.root._setData(`${this.opts[6]}.${i}.text`, e.detail.value)\n\t\t\t\tif (e.detail.cursor !== undefined) {\n\t\t\t\t\tthis.cursor = e.detail.cursor\n\t\t\t\t}\n\t\t\t},\n\t\t\tinsert(node) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tconst childs = this.childs.slice(0)\n\t\t\t\t\tif (!childs[this.i]) {\n\t\t\t\t\t\tchilds.push(node)\n\t\t\t\t\t} else if (childs[this.i].text) {\n\t\t\t\t\t\t// 在文本中插入\n\t\t\t\t\t\tconst text = childs[this.i].text\n\t\t\t\t\t\tconst list = []\n\t\t\t\t\t\tif (this.cursor) {\n\t\t\t\t\t\t\tlist.push({\n\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\ttext: text.substring(0, this.cursor)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlist.push(node)\n\t\t\t\t\t\tif (this.cursor < text.length) {\n\t\t\t\t\t\t\tlist.push({\n\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\ttext: text.substring(this.cursor)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\tchilds.splice(this.i, 1, ...list)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tchilds.splice(parseInt(this.i) + 1, 0, node)\n\t\t\t\t\t}\n\t\t\t\t\tthis.root._editVal(this.opts[6], this.childs, childs, true)\n\t\t\t\t}, 200)\n\t\t\t},\n\t\t\tremove(i) {\n\t\t\t\tconst arr = this.childs.slice(0)\n\t\t\t\tconst delEle = arr.splice(i, 1)[0]\n\t\t\t\tif (delEle.name === 'img' || delEle.name === 'video' || delEle.name === 'audio') {\n\t\t\t\t\tlet src = delEle.attrs.src\n\t\t\t\t\tif (delEle.src) {\n\t\t\t\t\t\tsrc = delEle.src.length === 1 ? delEle.src[0] : delEle.src\n\t\t\t\t\t}\n\t\t\t\t\tthis.root.$emit('remove', {\n\t\t\t\t\t\ttype: delEle.name,\n\t\t\t\t\t\tsrc\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tthis.root._edit = undefined\n\t\t\t\tthis.root._maskTap()\n\t\t\t\tthis.root._editVal(this.opts[6], this.childs, arr, true)\n\t\t\t},\n\t\t\tnodeTap(e) {\n\t\t\t\tif (this.opts[4]) {\n\t\t\t\t\tif (this.root._lock) return\n\t\t\t\t\tthis.root._lock = true\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.root._lock = false\n\t\t\t\t\t}, 50)\n\t\t\t\t\tif (this.ctrl['e' + this.i] === 3) return\n\t\t\t\t\tthis.root._maskTap()\n\t\t\t\t\tthis.root._edit = this\n\t\t\t\t\tlet start = this.opts[6].lastIndexOf('children.')\n\t\t\t\t\tif (start !== -1) {\n\t\t\t\t\t\tstart += 9\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstart = 6\n\t\t\t\t\t}\n\t\t\t\t\tconst i = parseInt(this.opts[6].substring(start, this.opts[6].lastIndexOf('.children')))\n\t\t\t\t\tlet parent = this.$parent\n\t\t\t\t\twhile (parent && parent.$options.name !== 'node') {\n\t\t\t\t\t\tparent = parent.$parent\n\t\t\t\t\t}\n\t\t\t\t\tif (!parent || this.opts[6].length - parent.opts[6].length > 15) return\n\t\t\t\t\t// 显示实线框\n\t\t\t\t\tthis.$set(this.ctrl, 'root', 1)\n\t\t\t\t\tthis.root._mask.push(() => this.$set(this.ctrl, 'root', 0))\n\t\t\t\t\tif (this.childs.length === 1 && this.childs[0].type === 'text' && !this.ctrl.e0) {\n\t\t\t\t\t\tthis.$set(this.ctrl, 'e0', 1)\n\t\t\t\t\t\tthis.root._mask.push(() => this.$set(this.ctrl, 'e0', 0))\n\t\t\t\t\t\tthis.i = 0\n\t\t\t\t\t\tthis.cursor = this.childs[0].text.length\n\t\t\t\t\t}\n\t\t\t\t\tconst items = this.root._getItem(parent.childs[i], i !== 0, i !== parent.childs.length - 1)\n\t\t\t\t\tthis.root._tooltip({\n\t\t\t\t\t\ttop: getTop(e),\n\t\t\t\t\t\titems,\n\t\t\t\t\t\tsuccess: tapIndex => {\n\t\t\t\t\t\t\tif (items[tapIndex] === '大小') {\n\t\t\t\t\t\t\t\t// 改变字体大小\n\t\t\t\t\t\t\t\tconst style = parent.childs[i].attrs.style || ''\n\t\t\t\t\t\t\t\tlet value = style.match(/;font-size:([0-9]+)px/)\n\t\t\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\t\t\tvalue = parseInt(value[1])\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tvalue = 16\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.root._slider({\n\t\t\t\t\t\t\t\t\tmin: 10,\n\t\t\t\t\t\t\t\t\tmax: 30,\n\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\ttop: getTop(e),\n\t\t\t\t\t\t\t\t\tchanging: val => {\n\t\t\t\t\t\t\t\t\t\tif (Math.abs(val - value) > 2) {\n\t\t\t\t\t\t\t\t\t\t\t// 字号变换超过 2 时更新到视图\n\t\t\t\t\t\t\t\t\t\t\tparent.changeStyle('font-size', i, val + 'px', value +\n\t\t\t\t\t\t\t\t\t\t\t\t'px')\n\t\t\t\t\t\t\t\t\t\t\tvalue = e.detail.value\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tchange: val => {\n\t\t\t\t\t\t\t\t\t\tif (val !== value) {\n\t\t\t\t\t\t\t\t\t\t\tparent.changeStyle('font-size', i, val + 'px', value +\n\t\t\t\t\t\t\t\t\t\t\t\t'px')\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tthis.root._editVal(`${parent.opts[6]}.${i}.attrs.style`,\n\t\t\t\t\t\t\t\t\t\t\tstyle, parent.childs[i].attrs.style)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t} else if (items[tapIndex] === '上移' || items[tapIndex] === '下移') {\n\t\t\t\t\t\t\t\tconst arr = parent.childs.slice(0)\n\t\t\t\t\t\t\t\tconst item = arr[i]\n\t\t\t\t\t\t\t\tif (items[tapIndex] === '上移') {\n\t\t\t\t\t\t\t\t\tarr[i] = arr[i - 1]\n\t\t\t\t\t\t\t\t\tarr[i - 1] = item\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tarr[i] = arr[i + 1]\n\t\t\t\t\t\t\t\t\tarr[i + 1] = item\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.root._editVal(parent.opts[6], parent.childs, arr, true)\n\t\t\t\t\t\t\t} else if (items[tapIndex] === '上边距') {\n\t\t\t\t\t\t\t\t// 改变上边距\n\t\t\t\t\t\t\t\tconst style = parent.childs[i].attrs.style || ''\n\t\t\t\t\t\t\t\tlet value = style.match(/;margin-top:([0-9]+)px/)\n\t\t\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\t\t\tvalue = parseInt(value[1])\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tvalue = 0\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.root._slider({\n\t\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\t\tmax: 100,\n\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\ttop: getTop(e),\n\t\t\t\t\t\t\t\t\tchanging: val => {\n\t\t\t\t\t\t\t\t\t\tif (Math.abs(val - value) > 2) {\n\t\t\t\t\t\t\t\t\t\t\t// 字号变换超过 2 时更新到视图\n\t\t\t\t\t\t\t\t\t\t\tparent.changeStyle('margin-top', i, val + 'px', value +\n\t\t\t\t\t\t\t\t\t\t\t\t'px')\n\t\t\t\t\t\t\t\t\t\t\tvalue = e.detail.value\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tchange: val => {\n\t\t\t\t\t\t\t\t\t\tif (val !== value) {\n\t\t\t\t\t\t\t\t\t\t\tparent.changeStyle('margin-top', i, val + 'px', value +\n\t\t\t\t\t\t\t\t\t\t\t\t'px')\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tthis.root._editVal(`${parent.opts[6]}.${i}.attrs.style`,\n\t\t\t\t\t\t\t\t\t\t\tstyle, parent.childs[i].attrs.style)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t} else if (items[tapIndex] === '下边距') {\n\t\t\t\t\t\t\t\t// 改变下边距\n\t\t\t\t\t\t\t\t// 改变上边距\n\t\t\t\t\t\t\t\tconst style = parent.childs[i].attrs.style || ''\n\t\t\t\t\t\t\t\tlet value = style.match(/;margin-bottom:([0-9]+)px/)\n\t\t\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\t\t\tvalue = parseInt(value[1])\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tvalue = 0\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.root._slider({\n\t\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\t\tmax: 100,\n\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\ttop: getTop(e),\n\t\t\t\t\t\t\t\t\tchanging: val => {\n\t\t\t\t\t\t\t\t\t\tif (Math.abs(val - value) > 2) {\n\t\t\t\t\t\t\t\t\t\t\t// 字号变换超过 2 时更新到视图\n\t\t\t\t\t\t\t\t\t\t\tparent.changeStyle('margin-bottom', i, val + 'px',\n\t\t\t\t\t\t\t\t\t\t\t\tvalue +\n\t\t\t\t\t\t\t\t\t\t\t\t'px')\n\t\t\t\t\t\t\t\t\t\t\tvalue = e.detail.value\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tchange: val => {\n\t\t\t\t\t\t\t\t\t\tif (val !== value) {\n\t\t\t\t\t\t\t\t\t\t\tparent.changeStyle('margin-bottom', i, val + 'px',\n\t\t\t\t\t\t\t\t\t\t\t\tvalue +\n\t\t\t\t\t\t\t\t\t\t\t\t'px')\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tthis.root._editVal(`${parent.opts[6]}.${i}.attrs.style`,\n\t\t\t\t\t\t\t\t\t\t\tstyle, parent.childs[i].attrs.style)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t} else if (items[tapIndex] === '删除') {\n\t\t\t\t\t\t\t\tparent.remove(i)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconst style = parent.childs[i].attrs.style || ''\n\t\t\t\t\t\t\t\tlet newStyle = ''\n\t\t\t\t\t\t\t\tconst item = items[tapIndex]\n\t\t\t\t\t\t\t\tlet name\n\t\t\t\t\t\t\t\tlet value\n\t\t\t\t\t\t\t\tif (item === '斜体') {\n\t\t\t\t\t\t\t\t\tname = 'font-style'\n\t\t\t\t\t\t\t\t\tvalue = 'italic'\n\t\t\t\t\t\t\t\t} else if (item === '粗体') {\n\t\t\t\t\t\t\t\t\tname = 'font-weight'\n\t\t\t\t\t\t\t\t\tvalue = 'bold'\n\t\t\t\t\t\t\t\t} else if (item === '下划线') {\n\t\t\t\t\t\t\t\t\tname = 'text-decoration'\n\t\t\t\t\t\t\t\t\tvalue = 'underline'\n\t\t\t\t\t\t\t\t} else if (item === '居中') {\n\t\t\t\t\t\t\t\t\tname = 'text-align'\n\t\t\t\t\t\t\t\t\tvalue = 'center'\n\t\t\t\t\t\t\t\t} else if (item === '缩进') {\n\t\t\t\t\t\t\t\t\tname = 'text-indent'\n\t\t\t\t\t\t\t\t\tvalue = '2em'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (style.includes(name + ':')) {\n\t\t\t\t\t\t\t\t\t// 已有则取消\n\t\t\t\t\t\t\t\t\tnewStyle = style.replace(new RegExp(name + ':[^;]+'), '')\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t// 没有则添加\n\t\t\t\t\t\t\t\t\tnewStyle = style + ';' + name + ':' + value\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.root._editVal(`${parent.opts[6]}.${i}.attrs.style`, style, newStyle, true)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\tmediaTap(e) {\n\t\t\t\tif (this.opts[4]) {\n\t\t\t\t\tconst i = e.target.dataset.i\n\t\t\t\t\tconst node = this.childs[i]\n\t\t\t\t\tconst items = this.root._getItem(node)\n\t\t\t\t\tthis.root._edit = this\n\t\t\t\t\tthis.i = i\n\t\t\t\t\tthis.root._tooltip({\n\t\t\t\t\t\ttop: e.target.offsetTop - 30,\n\t\t\t\t\t\titems,\n\t\t\t\t\t\tsuccess: tapIndex => {\n\t\t\t\t\t\t\tswitch (items[tapIndex]) {\n\t\t\t\t\t\t\t\tcase '封面':\n\t\t\t\t\t\t\t\t\t// 设置封面\n\t\t\t\t\t\t\t\t\tthis.root.getSrc('img', node.attrs.poster || '').then(url => {\n\t\t\t\t\t\t\t\t\t\tthis.root._editVal(`${this.opts[6]}.${i}.attrs.poster`, node\n\t\t\t\t\t\t\t\t\t\t\t.attrs.poster, url instanceof Array ? url[0] : url,\n\t\t\t\t\t\t\t\t\t\t\ttrue)\n\t\t\t\t\t\t\t\t\t}).catch(() => {})\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\tcase '删除':\n\t\t\t\t\t\t\t\t\tthis.remove(i)\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\tcase '循环':\n\t\t\t\t\t\t\t\tcase '不循环':\n\t\t\t\t\t\t\t\t\t// 切换循环播放\n\t\t\t\t\t\t\t\t\tthis.root._setData(`${this.opts[6]}.${i}.attrs.loop`, !node.attrs.loop)\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: '成功'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\tcase '自动播放':\n\t\t\t\t\t\t\t\tcase '不自动播放':\n\t\t\t\t\t\t\t\t\t// 切换自动播放播放\n\t\t\t\t\t\t\t\t\tthis.root._setData(`${this.opts[6]}.${i}.attrs.autoplay`, !node.attrs\n\t\t\t\t\t\t\t\t\t\t.autoplay)\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: '成功'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t// 避免上层出现点击态\n\t\t\t\t\tthis.root._lock = true\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.root._lock = false\n\t\t\t\t\t}, 50)\n\t\t\t\t}\n\t\t\t},\n\t\t\tchangeStyle(name, i, value, oldVal) {\n\t\t\t\tlet style = this.childs[i].attrs.style || ''\n\t\t\t\tif (style.includes(';' + name + ':' + oldVal)) {\n\t\t\t\t\t// style 中已经有\n\t\t\t\t\tstyle = style.replace(';' + name + ':' + oldVal, ';' + name + ':' + value)\n\t\t\t\t} else {\n\t\t\t\t\t// 没有则新增\n\t\t\t\t\tstyle += ';' + name + ':' + value\n\t\t\t\t}\n\t\t\t\tthis.root._setData(`${this.opts[6]}.${i}.attrs.style`, style)\n\t\t\t},\n\t\t\t// #ifdef MP-WEIXIN\n\t\t\ttoJSON() {},\n\t\t\t// #endif\n\t\t\t/**\n\t\t\t * @description 播放视频事件\n\t\t\t * @param {Event} e\n\t\t\t */\n\t\t\tplay(e) {\n\t\t\t\t// #ifndef APP-PLUS\n\t\t\t\tif (this.root.pauseVideo) {\n\t\t\t\t\tlet flag = false;\n\t\t\t\t\tconst id = e.target.id\n\t\t\t\t\tfor (let i = this.root._videos.length; i--;) {\n\t\t\t\t\t\tif (this.root._videos[i].id === id) {\n\t\t\t\t\t\t\tflag = true\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.root._videos[i].pause() // 自动暂停其他视频\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// 将自己加入列表\n\t\t\t\t\tif (!flag) {\n\t\t\t\t\t\tconst ctx = uni.createVideoContext(id\n\t\t\t\t\t\t\t// #ifndef MP-BAIDU\n\t\t\t\t\t\t\t, this\n\t\t\t\t\t\t\t// #endif\n\t\t\t\t\t\t)\n\t\t\t\t\t\tctx.id = id\n\t\t\t\t\t\tthis.root._videos.push(ctx)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// #endif\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * @description 图片点击事件\n\t\t\t * @param {Event} e\n\t\t\t */\n\t\t\timgTap(e) {\n\t\t\t\tif (!this.opts[4]) {\n\t\t\t\t\tconst node = this.childs[e.currentTarget.dataset.i]\n\t\t\t\t\tif (node.a) {\n\t\t\t\t\t\tthis.linkTap(node.a)\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tif (node.attrs.ignore) return\n\t\t\t\t\t// #ifdef H5 || APP-PLUS\n\t\t\t\t\tnode.attrs.src = node.attrs.src || node.attrs['data-src']\n\t\t\t\t\t// #endif\n\t\t\t\t\tthis.root.$emit('imgtap', node.attrs)\n\t\t\t\t\t// 自动预览图片\n\t\t\t\t\tif (this.root.previewImg) {\n\t\t\t\t\t\tuni.previewImage({\n\t\t\t\t\t\t\tcurrent: parseInt(node.attrs.i),\n\t\t\t\t\t\t\turls: this.root.imgList\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst i = e.currentTarget.dataset.i\n\t\t\t\t\tconst node = this.childs[i]\n\t\t\t\t\tconst items = this.root._getItem(node)\n\t\t\t\t\tthis.root._edit = this\n\t\t\t\t\tthis.i = i\n\t\t\t\t\tthis.root._maskTap()\n\t\t\t\t\tthis.$set(this.ctrl, 'e' + i, 1)\n\t\t\t\t\tthis.root._mask.push(() => this.$set(this.ctrl, 'e' + i, 0))\n\t\t\t\t\tthis.root._tooltip({\n\t\t\t\t\t\ttop: getTop(e),\n\t\t\t\t\t\titems,\n\t\t\t\t\t\tsuccess: tapIndex => {\n\t\t\t\t\t\t\tif (items[tapIndex] === '换图') {\n\t\t\t\t\t\t\t\t// 换图\n\t\t\t\t\t\t\t\tthis.root.getSrc('img', node.attrs.src || '').then(url => {\n\t\t\t\t\t\t\t\t\tthis.root._editVal(this.opts[6] + '.' + i + '.attrs.src', node\n\t\t\t\t\t\t\t\t\t\t.attrs.src, url instanceof Array ? url[0] : url, true)\n\t\t\t\t\t\t\t\t}).catch(() => {})\n\t\t\t\t\t\t\t} else if (items[tapIndex] === '宽度') {\n\t\t\t\t\t\t\t\t// 更改宽度\n\t\t\t\t\t\t\t\tconst style = node.attrs.style || ''\n\t\t\t\t\t\t\t\tlet value = style.match(/max-width:([0-9]+)%/)\n\t\t\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\t\t\tvalue = parseInt(value[1])\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tvalue = 100\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.root._slider({\n\t\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\t\tmax: 100,\n\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\ttop: getTop(e),\n\t\t\t\t\t\t\t\t\tchanging: val => {\n\t\t\t\t\t\t\t\t\t\t// 变化超过 5% 更新时视图\n\t\t\t\t\t\t\t\t\t\tif (Math.abs(val - value) > 5) {\n\t\t\t\t\t\t\t\t\t\t\tthis.changeStyle('max-width', i, val + '%', value +\n\t\t\t\t\t\t\t\t\t\t\t\t'%')\n\t\t\t\t\t\t\t\t\t\t\tvalue = val\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tchange: val => {\n\t\t\t\t\t\t\t\t\t\tif (val !== value) {\n\t\t\t\t\t\t\t\t\t\t\tthis.changeStyle('max-width', i, val + '%', value +\n\t\t\t\t\t\t\t\t\t\t\t\t'%')\n\t\t\t\t\t\t\t\t\t\t\tvalue = val\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tthis.root._editVal(this.opts[6] + '.' + i + '.attrs.style',\n\t\t\t\t\t\t\t\t\t\t\tstyle, this.childs[i].attrs.style)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t} else if (items[tapIndex] === '超链接') {\n\t\t\t\t\t\t\t\t// 将图片设置为链接\n\t\t\t\t\t\t\t\tthis.root.getSrc('link', node.a ? node.a.href : '').then(url => {\n\t\t\t\t\t\t\t\t\t// 如果有 a 标签则替换 href\n\t\t\t\t\t\t\t\t\tif (node.a) {\n\t\t\t\t\t\t\t\t\t\tthis.root._editVal(this.opts[6] + '.' + i + '.a.href', node.a\n\t\t\t\t\t\t\t\t\t\t\t.href, url, true)\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tconst link = {\n\t\t\t\t\t\t\t\t\t\t\tname: 'a',\n\t\t\t\t\t\t\t\t\t\t\tattrs: {\n\t\t\t\t\t\t\t\t\t\t\t\thref: url\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tchildren: [node]\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tnode.a = link.attrs\n\t\t\t\t\t\t\t\t\t\tthis.root._editVal(this.opts[6] + '.' + i, node, link, true)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\twx.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: '成功'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}).catch(() => {})\n\t\t\t\t\t\t\t} else if (items[tapIndex] === '预览图') {\n\t\t\t\t\t\t\t\t// 设置预览图链接\n\t\t\t\t\t\t\t\tthis.root.getSrc('img', node.attrs['original-src'] || '').then(url => {\n\t\t\t\t\t\t\t\t\tthis.root._editVal(this.opts[6] + '.' + i + '.attrs.original-src',\n\t\t\t\t\t\t\t\t\t\tnode.attrs['original-src'], url instanceof Array ? url[0] :\n\t\t\t\t\t\t\t\t\t\turl, true)\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: '成功'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}).catch(() => {})\n\t\t\t\t\t\t\t} else if (items[tapIndex] === '上边距') {\n\t\t\t\t\t\t\t\t// 改变上边距\n\t\t\t\t\t\t\t\tconst style = node.attrs.style || ''\n\t\t\t\t\t\t\t\tlet value = style.match(/;margin-top:([0-9]+)px/)\n\t\t\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\t\t\tvalue = parseInt(value[1])\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tvalue = 0\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.root._slider({\n\t\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\t\tmax: 100,\n\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\ttop: getTop(e),\n\t\t\t\t\t\t\t\t\tchanging: val => {\n\t\t\t\t\t\t\t\t\t\tif (Math.abs(val - value) > 2) {\n\t\t\t\t\t\t\t\t\t\t\t// 字号变换超过 2 时更新到视图\n\t\t\t\t\t\t\t\t\t\t\tthis.changeStyle('margin-top', i, val + 'px', value +\n\t\t\t\t\t\t\t\t\t\t\t\t'px')\n\t\t\t\t\t\t\t\t\t\t\tvalue = e.detail.value\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tchange: val => {\n\t\t\t\t\t\t\t\t\t\tif (val !== value) {\n\t\t\t\t\t\t\t\t\t\t\tthis.changeStyle('margin-top', i, val + 'px', value +\n\t\t\t\t\t\t\t\t\t\t\t\t'px')\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tthis.root._editVal(`${this.opts[6]}.${i}.attrs.style`,\n\t\t\t\t\t\t\t\t\t\t\tstyle, this.childs[i].attrs.style)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t} else if (items[tapIndex] === '下边距') {\n\t\t\t\t\t\t\t\t// 改变下边距\n\t\t\t\t\t\t\t\tconst style = node.attrs.style || ''\n\t\t\t\t\t\t\t\tlet value = style.match(/;margin-bottom:([0-9]+)px/)\n\t\t\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\t\t\tvalue = parseInt(value[1])\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tvalue = 0\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.root._slider({\n\t\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\t\tmax: 100,\n\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\ttop: getTop(e),\n\t\t\t\t\t\t\t\t\tchanging: val => {\n\t\t\t\t\t\t\t\t\t\tif (Math.abs(val - value) > 2) {\n\t\t\t\t\t\t\t\t\t\t\t// 字号变换超过 2 时更新到视图\n\t\t\t\t\t\t\t\t\t\t\tthis.changeStyle('margin-bottom', i, val + 'px',\n\t\t\t\t\t\t\t\t\t\t\t\tvalue +\n\t\t\t\t\t\t\t\t\t\t\t\t'px')\n\t\t\t\t\t\t\t\t\t\t\tvalue = e.detail.value\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tchange: val => {\n\t\t\t\t\t\t\t\t\t\tif (val !== value) {\n\t\t\t\t\t\t\t\t\t\t\tthis.changeStyle('margin-bottom', i, val + 'px',\n\t\t\t\t\t\t\t\t\t\t\t\tvalue +\n\t\t\t\t\t\t\t\t\t\t\t\t'px')\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tthis.root._editVal(`${this.opts[6]}.${i}.attrs.style`,\n\t\t\t\t\t\t\t\t\t\t\tstyle, this.childs[i].attrs.style)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t} else if (items[tapIndex] === '删除') {\n\t\t\t\t\t\t\t\tthis.remove(i)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// 禁用 / 启用预览\n\t\t\t\t\t\t\t\tthis.root._setData(this.opts[6] + '.' + i + '.attrs.ignore', !node.attrs\n\t\t\t\t\t\t\t\t\t.ignore)\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: '成功'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tthis.root._lock = true\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.root._lock = false\n\t\t\t\t\t}, 50)\n\t\t\t\t}\n\t\t\t},\n\t\t\t/**\n\t\t\t * @description 图片长按\n\t\t\t */\n\t\t\timgLongTap(e) {\n\t\t\t\t// #ifdef APP-PLUS\n\t\t\t\tconst attrs = this.childs[e.currentTarget.dataset.i].attrs\n\t\t\t\tif (this.opts[3] && !attrs.ignore) {\n\t\t\t\t\tuni.showActionSheet({\n\t\t\t\t\t\titemList: ['保存图片'],\n\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\tconst save = path => {\n\t\t\t\t\t\t\t\tuni.saveImageToPhotosAlbum({\n\t\t\t\t\t\t\t\t\tfilePath: path,\n\t\t\t\t\t\t\t\t\tsuccess() {\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: '保存成功'\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (this.root.imgList[attrs.i].startsWith('http')) {\n\t\t\t\t\t\t\t\tuni.downloadFile({\n\t\t\t\t\t\t\t\t\turl: this.root.imgList[attrs.i],\n\t\t\t\t\t\t\t\t\tsuccess: res => save(res.tempFilePath)\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsave(this.root.imgList[attrs.i])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\t// #endif\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * @description 图片加载完成事件\n\t\t\t * @param {Event} e\n\t\t\t */\n\t\t\timgLoad(e) {\n\t\t\t\tlet that = this\n\t\t\t\t// #ifdef MP-WEIXIN || MP-QQ\n\t\t\t\tif (this.opts[4])\n\t\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t\tconst i = e.currentTarget.dataset.i\n\t\t\t\t\t\t// let i = e.target.dataset.i\n\t\t\t\t\t\tconst id = this.childs[i].attrs.id || ('n' + i)\n\t\t\t\t\t\tuni.createSelectorQuery().in(this).select('#' + id).boundingClientRect().exec(res => {\n\t\t\t\t\t\t\tthis.$set(this.ctrl, 'h' + i, res[0]?.height ?? 0)\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t// #endif\n\t\t\t\tconst i = e.currentTarget.dataset.i\n\t\t\t\t/* #ifndef H5 || (APP-PLUS && VUE2) */\n\t\t\t\tif (!this.childs[i].w) {\n\t\t\t\t\tthis.$set(this.ctrl, i, e.detail.width)\n\t\t\t\t\tif (this.opts[4]) {\n\t\t\t\t\t\tconst path = this.opts[6] + '.' + i + '.attrs.'\n\t\t\t\t\t\tif (e.detail.width < 150)\n\t\t\t\t\t\t\tthis.root._setData(path + 'ignore', 'T')\n\t\t\t\t\t\tthis.root._setData(path + 'width', e.detail.width.toString())\n\t\t\t\t\t}\n\t\t\t\t} else /* #endif */\n\t\t\t\t\tif ((this.opts[1] && !this.ctrl[i]) || this.ctrl[i] === -1) {\n\t\t\t\t\t\t// 加载完毕，取消加载中占位图\n\t\t\t\t\t\tthis.$set(this.ctrl, i, 1)\n\t\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * @description 链接点击事件\n\t\t\t * @param {Event} e\n\t\t\t */\n\t\t\tlinkTap(e) {\n\t\t\t\tif (!this.opts[4]) {\n\t\t\t\t\tconst node = e.currentTarget ? this.childs[e.currentTarget.dataset.i] : {}\n\t\t\t\t\tconst attrs = node.attrs || e\n\t\t\t\t\tconst href = attrs.href\n\t\t\t\t\tthis.root.$emit('linktap', Object.assign({\n\t\t\t\t\t\tinnerText: this.root.getText(node.children || []) // 链接内的文本内容\n\t\t\t\t\t}, attrs))\n\t\t\t\t\tif (href) {\n\t\t\t\t\t\tif (href[0] === '#') {\n\t\t\t\t\t\t\t// 跳转锚点\n\t\t\t\t\t\t\tthis.root.navigateTo(href.substring(1)).catch(() => {})\n\t\t\t\t\t\t} else if (href.split('?')[0].includes('://')) {\n\t\t\t\t\t\t\t// 复制外部链接\n\t\t\t\t\t\t\tif (this.root.copyLink) {\n\t\t\t\t\t\t\t\t// #ifdef H5\n\t\t\t\t\t\t\t\twindow.open(href)\n\t\t\t\t\t\t\t\t// #endif\n\t\t\t\t\t\t\t\t// #ifdef MP\n\t\t\t\t\t\t\t\tuni.setClipboardData({\n\t\t\t\t\t\t\t\t\tdata: href,\n\t\t\t\t\t\t\t\t\tsuccess: () =>\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: '链接已复制'\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t// #endif\n\t\t\t\t\t\t\t\t// #ifdef APP-PLUS\n\t\t\t\t\t\t\t\tplus.runtime.openWeb(href)\n\t\t\t\t\t\t\t\t// #endif\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// 跳转页面\n\t\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\t\turl: href,\n\t\t\t\t\t\t\t\tfail() {\n\t\t\t\t\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\t\t\t\t\turl: href,\n\t\t\t\t\t\t\t\t\t\tfail() {}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst i = e.currentTarget.dataset.i\n\t\t\t\t\tconst node = this.childs[i]\n\t\t\t\t\tconst items = this.root._getItem(node)\n\t\t\t\t\tthis.root._tooltip({\n\t\t\t\t\t\ttop: getTop(e),\n\t\t\t\t\t\titems,\n\t\t\t\t\t\tsuccess: tapIndex => {\n\t\t\t\t\t\t\tif (items[tapIndex] === '更换链接') {\n\t\t\t\t\t\t\t\tthis.root.getSrc('link', node.attrs.href).then(url => {\n\t\t\t\t\t\t\t\t\tthis.root._editVal(this.opts[6] + '.' + i + '.attrs.href', node\n\t\t\t\t\t\t\t\t\t\t.attrs.href, url, true)\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: '成功'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}).catch(() => {})\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.remove(i)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t/**\n\t\t\t * @description 错误事件\n\t\t\t * @param {Event} e\n\t\t\t */\n\t\t\tmediaError(e) {\n\t\t\t\tconst i = e.currentTarget.dataset.i\n\t\t\t\tconst node = this.childs[i]\n\t\t\t\t// 加载其他源\n\t\t\t\tif (node.name === 'video' || node.name === 'audio') {\n\t\t\t\t\tlet index = (this.ctrl[i] || 0) + 1\n\t\t\t\t\tif (index > node.src.length) {\n\t\t\t\t\t\tindex = 0\n\t\t\t\t\t}\n\t\t\t\t\tif (index < node.src.length) {\n\t\t\t\t\t\tthis.$set(this.ctrl, i, index)\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t} else if (node.name === 'img') {\n\t\t\t\t\t// #ifdef H5 && VUE3\n\t\t\t\t\tif (this.opts[0] && !this.ctrl.load) return\n\t\t\t\t\t// #endif\n\t\t\t\t\t// 显示错误占位图\n\t\t\t\t\tif (this.opts[2]) {\n\t\t\t\t\t\tthis.$set(this.ctrl, i, -1)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.root) {\n\t\t\t\t\tthis.root.$emit('error', {\n\t\t\t\t\t\tsource: node.name,\n\t\t\t\t\t\tattrs: node.attrs,\n\t\t\t\t\t\t// #ifndef H5 && VUE3\n\t\t\t\t\t\terrMsg: e.detail.errMsg\n\t\t\t\t\t\t// #endif\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</script>\n<style>\n\t/* #ifndef H5 || MP-ALIPAY || APP-PLUS */\n\t/deep/ ._address,\n\t/deep/ ._article,\n\t/deep/ ._aside,\n\t/deep/ ._body,\n\t/deep/ ._caption,\n\t/deep/ ._center,\n\t/deep/ ._cite,\n\t/deep/ ._footer,\n\t/deep/ ._header,\n\t/deep/ ._html,\n\t/deep/ ._nav,\n\t/deep/ ._pre,\n\t/deep/ ._section {\n\t\tdisplay: block;\n\t}\n\n\t/* #endif */\n\t/deep/ ._video {\n\t\twidth: 300px;\n\t\theight: 225px;\n\t\tdisplay: inline-block;\n\t\tbackground-color: black;\n\t}\n\n\t/* a 标签默认效果 */\n\t._a {\n\t\tpadding: 1.5px 0 1.5px 0;\n\t\tcolor: #366092;\n\t\tword-break: break-all;\n\t}\n\n\t/* a 标签点击态效果 */\n\t._hover {\n\t\ttext-decoration: underline;\n\t\topacity: 0.7;\n\t}\n\n\t/* 图片默认效果 */\n\t._img {\n\t\tmax-width: 100%;\n\t\t-webkit-touch-callout: none;\n\t}\n\n\t/* 内部样式 */\n\n\t._block {\n\t\tdisplay: block;\n\t}\n\n\t._b,\n\t._strong {\n\t\tfont-weight: bold;\n\t}\n\n\t._code {\n\t\tfont-family: monospace;\n\t}\n\n\t._del {\n\t\ttext-decoration: line-through;\n\t}\n\n\t._em,\n\t._i {\n\t\tfont-style: italic;\n\t}\n\n\t._h1 {\n\t\tfont-size: 2em;\n\t}\n\n\t._h2 {\n\t\tfont-size: 1.5em;\n\t}\n\n\t._h3 {\n\t\tfont-size: 1.17em;\n\t}\n\n\t._h5 {\n\t\tfont-size: 0.83em;\n\t}\n\n\t._h6 {\n\t\tfont-size: 0.67em;\n\t}\n\n\t._h1,\n\t._h2,\n\t._h3,\n\t._h4,\n\t._h5,\n\t._h6 {\n\t\tdisplay: block;\n\t\tfont-weight: bold;\n\t}\n\n\t._image {\n\t\theight: 1px;\n\t}\n\n\t._ins {\n\t\ttext-decoration: underline;\n\t}\n\n\t._li {\n\t\tdisplay: list-item;\n\t}\n\n\t._ol {\n\t\tlist-style-type: decimal;\n\t}\n\n\t._ol,\n\t._ul {\n\t\tdisplay: block;\n\t\tpadding-left: 40px;\n\t\tmargin: 1em 0;\n\t}\n\n\t._q::before {\n\t\tcontent: '\"';\n\t}\n\n\t._q::after {\n\t\tcontent: '\"';\n\t}\n\n\t._sub {\n\t\tfont-size: smaller;\n\t\tvertical-align: sub;\n\t}\n\n\t._sup {\n\t\tfont-size: smaller;\n\t\tvertical-align: super;\n\t}\n\n\t._thead,\n\t._tbody,\n\t._tfoot {\n\t\tdisplay: table-row-group;\n\t}\n\n\t._tr {\n\t\tdisplay: table-row;\n\t}\n\n\t._td,\n\t._th {\n\t\tdisplay: table-cell;\n\t\tvertical-align: middle;\n\t}\n\n\t._th {\n\t\tfont-weight: bold;\n\t\ttext-align: center;\n\t}\n\n\t._ul {\n\t\tlist-style-type: disc;\n\t}\n\n\t._ul ._ul {\n\t\tmargin: 0;\n\t\tlist-style-type: circle;\n\t}\n\n\t._ul ._ul ._ul {\n\t\tlist-style-type: square;\n\t}\n\n\t._abbr,\n\t._b,\n\t._code,\n\t._del,\n\t._em,\n\t._i,\n\t._ins,\n\t._label,\n\t._q,\n\t._span,\n\t._strong,\n\t._sub,\n\t._sup {\n\t\tdisplay: inline;\n\t}\n\n\t/* #ifdef APP-PLUS */\n\t._video {\n\t\twidth: 300px;\n\t\theight: 225px;\n\t}\n\n\t/* #endif */\n</style>\n","import mod from \"-!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./node.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./node.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1709824503084\n      var cssReload = require(\"E:/安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-filter-loader/index.js!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./node.vue?vue&type=custom&index=0&blockType=script&module=handler&lang=wxs\"; export default mod; export * from \"-!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-filter-loader/index.js!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../安装吧/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./node.vue?vue&type=custom&index=0&blockType=script&module=handler&lang=wxs\"","export default function (Component) {\n       if(!Component.options.wxsCallMethods){\n         Component.options.wxsCallMethods = []\n       }\n       \n     }"],"sourceRoot":""}